{
    "title": "CaptureService",
    "description": "",
    "content": "This file is automatically generated. Please don't edit it manually.\nTo submit a bug report on the content, see\nhttps://devforum.roblox.com/c/bug-reports/documentation-issues/72\n\nname: CaptureService\ntype: class\nmemorycategory: Instances\nsummary: |\n  A service which provides control over screenshot and video capture features.\ndescription: |\n  CaptureService is a client-side service that allows developers to control\n  how the screenshot and video capture feature integrates with their\n  experiences. It can be used to include preset moments where a capture is\n  automatically taken for a user, and that user can then save, share, or delete\n  the capture.\ncodesamples: []\ninherits:\n  - Instance\ndescendants: []\ntags:\n  - NotCreatable\n  - Service\ndeprecationmessage: ''\nproperties: []\nmethods:\n  - name: CaptureService:CaptureScreenshot\n    summary: |\n      Takes a screenshot and provides a temporary contentId to identify it.\n    description: |\n      This method captures a screenshot for the user but does not immediately\n      save it to their Captures gallery within the experience's main menu.\n      Instead, a temporary contentId is created to identify the new capture.\n\n      Note that any screenshots taken by this method will not be accessible via\n      Class.CaptureService:ReadCapturesFromGalleryAsync()|ReadCapturesFromGalleryAsync()\n      or be uploadable via\n      Class.CaptureService:UploadCaptureAsync()|UploadCaptureAsync().\n\n      The onCaptureReady callback can be used to prompt the user to save or\n      share the screenshot:\n\n      lua\n      local CaptureService = game:GetService(\"CaptureService\")\n\n      -- Reference to an ImageLabel parent of the script containing this code\n      local imageLabel = script.Parent\n\n      local function onCaptureReady(contentId)\n      \timageLabel.Image = contentId\n      end\n\n      CaptureService:CaptureScreenshot(onCaptureReady)\n\n    codesamples: []\n    parameters:\n      - name: onCaptureReady\n        type: Function\n        default:\n        summary: |\n          A callback function that is called with the contentId of the new\n          capture once it is ready.\n    returns:\n      - type: ()\n        summary: ''\n    tags: []\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Capture\n  - name: CaptureService:PromptCaptureGalleryPermissionAsync\n    summary: ''\n    description: |\n      This client-side function prompts a user for permission to access their\n      local captures. Once they have accepted or rejected the prompt, it returns\n      a boolean representing their choice. This function is a necessary\n      prerequisite to ReadCapturesFromGalleryAsync and UploadCaptureAsync,\n      as both of these require gallery permissions to work.\n    codesamples:\n      - PromptCaptureGalleryPermissionAsync-example\n    parameters:\n      - name: captureGalleryPermission\n        type: CaptureGalleryPermission\n        default:\n        summary: |\n          An Enum.CaptureGalleryPermission representing the type of access for\n          which the user will be prompted.\n    returns:\n      - type: boolean\n        summary: |\n          A boolean representing whether or not the user has allowed access to\n          their captures.\n    tags:\n      - Yields\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Capture\n  - name: CaptureService:PromptSaveCapturesToGallery\n    summary: |\n      Prompts the user to save specified captures to their gallery.\n    description: |\n      This method prompts the user to save the captures identified by the\n      provided contentIds or Class.Capture objects to their Captures\n      gallery within the experience's main menu.\n    codesamples: []\n    parameters:\n      - name: captures\n        type: Array\n        default:\n        summary: |\n          An array of content IDs and/or Class.Capture objects.\n      - name: resultCallback\n        type: Function\n        default:\n        summary: |\n          A callback function that will be invoked with a dictionary mapping\n          each contentId and/or Class.Capture object to a boolean indicating\n          if the user accepted saving that capture.\n    returns:\n      - type: ()\n        summary: ''\n    tags: []\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Capture\n  - name: CaptureService:PromptShareCapture\n    summary: |\n      Prompts the user to share a specified capture.\n    description: |\n      This method prompts the user to share the capture identified by the\n      provided contentId or Class.Capture object using the native share\n      sheet on their device.\n\n      The capture is shared along with an invite link to the experience when\n      supported. Not all devices support including both a screenshot or video\n      and an invite link.\n\n      The launchData will be available in the launchData field for users who\n      join through the invite link.\n\n      For users or devices who are not eligible to use share sheets, this method\n      prompts them to download the capture instead.\n\n      lua\n      local CaptureService = game:GetService(\"CaptureService\")\n\n      local function onShareAccepted()\n      \tprint(\"Capture share was accepted!\")\n      end\n\n      local function onShareDenied()\n      \tprint(\"Capture share was denied!\")\n      end\n\n      local onCaptureReady = function(result, videoCapture)\n      \tif videoCapture then\n      \t\tlocal captureContent = Content.fromObject(videoCapture)\n      \t\tCaptureService:PromptShareCapture(captureContent, \"launchData\" , onShareAccepted, onShareDenied)\n      \tend\n      end\n\n      CaptureService:StartVideoCaptureAsync(onCaptureReady, {})\n\n    codesamples: []\n    parameters:\n      - name: captureContent\n        type: Content\n        default:\n        summary: |\n          A Datatype.Content containing a contentId or Class.Capture\n          object.\n      - name: launchData\n        type: string\n        default:\n        summary: |\n          An optional string to include as launch data in the invite link.\n      - name: onAcceptedCallback\n        type: Function\n        default:\n        summary: |\n          An optional callback function invoked if the user accepts sharing.\n      - name: onDeniedCallback\n        type: Function\n        default:\n        summary: |\n          An optional callback function invoked if the user denies sharing.\n    returns:\n      - type: ()\n        summary: ''\n    tags: []\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Capture\n  - name: CaptureService:ReadCapturesFromGalleryAsync\n    summary: ''\n    description: |\n      This client-side function returns a paginated list of captures from the\n      user's gallery as a Class.CapturesPages object sorted\n      reverse-chronologically, which can be used to iterate through the\n      captures. The results can be filtered by capture type with the\n      captureTypeFilters parameter. If this parameter isn't provided, the\n      function returns all captures.\n\n      If readFromAllEligibleExperiences is true, captures from all eligible\n      experiences will be read. If false, only those from the current\n      experience will be read. Additionally, captures taken with\n      Class.CaptureService:CaptureScreenshot()|CaptureScreenshot() and\n      subsequently saved with\n      Class.CaptureService:PromptSaveCapturesToGallery()|PromptSaveCapturesToGallery()\n      will not be returned by this method.\n    codesamples:\n      - ReadCapturesFromGalleryAsync-example\n    parameters:\n      - name: captureTypeFilters\n        type: Array\n        default: '{}'\n        summary: |\n          An array of Enum.CaptureType.\n      - name: readFromAllEligibleExperiences\n        type: boolean\n        default: false\n        summary: |\n          A boolean; default is false.\n    returns:\n      - type: Tuple\n        summary: |\n          Tuple of (result: Enum.ReadCapturesFromGalleryResult, capturesPages:\n          Class.CapturesPages)\n    tags:\n      - Yields\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Capture\n  - name: CaptureService:StartVideoCaptureAsync\n    summary: |\n      Initiates a video capture recording.\n    description: |\n      This method initiates a video capture recording. The recording will\n      continue until the\n      Class.CaptureService:StopVideoCapture()|StopVideoCapture() method is\n      called, or when 30 seconds have passed, whichever comes first. During the\n      video recording, all user voices are muted.\n\n      The onCaptureReady callback can be used to prompt the user to save or\n      share the video capture.\n\n      The captureParams parameter is currently non-operational.\n\n      lua\n      local CaptureService = game:GetService(\"CaptureService\")\n\n      local parent = script.Parent\n\n      local onCaptureReady = function(result, videoCapture)\n      \tif result ~= Enum.VideoCaptureResult.Success and result ~= Enum.VideoCaptureResult.TimeLimitReached or not videoCapture then\n      \t\tprint(\"Video recording failed to complete for reason:\", result)\n      \telse\n      \t\t-- Prompt the user to save the video capture to their gallery\n      \t\tCaptureService:PromptSaveCapturesToGallery({ videoCapture }, function()\n      \t\t\tprint(\"Capture saved\")\n      \t\tend)\n      \tend\n      end\n\n      parent.Activated:Connect(function()\n      \tlocal videoRecordingAllowedResult: Enum.VideoCaptureStartedResult = CaptureService:StartVideoCaptureAsync(onCaptureReady, {})\n      \tif videoRecordingAllowedResult ~= Enum.VideoCaptureStartedResult.Success then\n      \t\tprint(\"Video recording failed to start for reason:\", videoRecordingAllowedResult)\n      \tend\n      end)\n\n    codesamples: []\n    parameters:\n      - name: onCaptureReady\n        type: Function\n        default:\n        summary: |\n          A callback function that is called on video capture completion with a\n          Enum.VideoCaptureResult and, if successful, a Class.VideoCapture.\n      - name: captureParams\n        type: Dictionary\n        default: nil\n        summary: ''\n    returns:\n      - type: VideoCaptureStartedResult\n        summary: ''\n    tags:\n      - Yields\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Capture\n  - name: CaptureService:StopVideoCapture\n    summary: |\n      Ends a video capture initiated by\n      Class.CaptureService:StartVideoCaptureAsync()|StartVideoCaptureAsync().\n    description: |\n      This method ends a video capture that was started by the\n      Class.CaptureService:StartVideoCaptureAsync()|StartVideoCaptureAsync()\n      method.\n    codesamples: []\n    parameters: []\n    returns:\n      - type: ()\n        summary: ''\n    tags: []\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Capture\n  - name: CaptureService:TakeScreenshotCaptureAsync\n    summary: |\n      Initiates a screenshot capture.\n    description: |\n      This method initiates a screenshot capture. The onCaptureReady callback\n      can be used to prompt the user to save or share the screenshot capture.\n\n      Use the Enum.UICaptureMode parameter in captureParams to specify\n      whether UI elements should be in the screenshot. By default, this is set\n      to Enum.UICaptureMode.None.\n\n      lua\n      local CaptureService = game:GetService(\"CaptureService\")\n\n      local parent = script.Parent\n\n      local onCaptureReady = function(result, screenshotCapture)\n      \tif result ~= Enum.ScreenshotCaptureResult.Success or not screenshotCapture then\n      \t\tprint(\"Screenshot failed to complete for reason:\", result)\n      \telse\n      \t\t-- Prompt the user to save the screenshot capture to their gallery\n      \t\tCaptureService:PromptSaveCapturesToGallery({ screenshotCapture }, function(results)\n      \t\t\tfor capture, result in pairs(results) do\n      \t\t\t\tif result then\n      \t\t\t\t\tprint(\"Capture saved\")\n      \t\t\t\tend\n      \t\t\tend\n      \t\tend)\n      \tend\n      end\n\n      parent.Activated:Connect(function()\n      \tCaptureService:TakeScreenshotCaptureAsync(onCaptureReady, { UICaptureMode = Enum.UICaptureMode.All })\n      end)\n\n    codesamples: []\n    parameters:\n      - name: onCaptureReady\n        type: Function\n        default:\n        summary: |\n          A callback function that is called on screenshot capture completion\n          with a Enum.ScreenshotCaptureResult and, if successful, a\n          Class.ScreenshotCapture.\n      - name: captureParams\n        type: Dictionary\n        default: nil\n        summary: |\n          A dictionary that modifies capture behavior.\n    returns:\n      - type: ()\n        summary: ''\n    tags: []\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Capture\n  - name: CaptureService:UploadCaptureAsync\n    summary: ''\n    description: |\n      This client-side function uploads a capture, like one retrieved from\n      ReadCapturesFromGalleryAsync, to the asset system. It returns a tuple of\n      the result and the asset ID.\n\n      Notes:\n\n      - This function will only work properly if the Maturity and Compliance\n        questionnaire has been filled out for the experience.\n      - For video capture types, there is an upload limit of 20 videos per day\n        per user.\n      - This function can take up to several minutes to finish executing, and\n        the user will need to remain in the experience.\n    codesamples:\n      - UploadCaptureAsync-example\n    parameters:\n      - name: capture\n        type: Capture\n        default:\n        summary: |\n          a capture object of type Class.Capture\n    returns:\n      - type: Tuple\n        summary: |\n          Tuple of (result: Enum.UploadCaptureResult, assetId: number)\n    tags:\n      - Yields\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Capture\nevents:\n  - name: CaptureService.CaptureBegan\n    summary: |\n      Fires immediately before a capture begins.\n    description: |\n      This event fires right before a new capture is taken. It can be used to\n      customize the capture experience, for example by hiding certain GUI\n      elements.\n    codesamples: []\n    parameters:\n      - name: captureType\n        type: CaptureType\n        default:\n        summary: ''\n    tags: []\n    deprecationmessage: ''\n    security: None\n    capabilities:\n      - Capture\n  - name: CaptureService.CaptureEnded\n    summary: |\n      Fires after a capture finishes.\n    description: |\n      This event fires after a new capture completes. It can be used to restore\n      any changes made when the Class.CaptureService.CaptureBegan|CaptureBegan\n      event fired.\n    codesamples: []\n    parameters:\n      - name: captureType\n        type: CaptureType\n        default:\n        summary: ''\n    tags: []\n    deprecationmessage: ''\n    security: None\n    capabilities:\n      - Capture\n  - name: CaptureService.CaptureSaved\n    summary: ''\n    description: ''\n    codesamples: []\n    parameters:\n      - name: captureInfo\n        type: Dictionary\n        default:\n        summary: ''\n    tags:\n      - Deprecated\n    deprecationmessage: |\n      This event has been superseded by the\n      Class.CaptureService.UserCaptureSaved|UserCaptureSaved event.\n    security: None\n    capabilities:\n      - Capture\n  - name: CaptureService.UserCaptureSaved\n    summary: |\n      Fires when the user saves a capture.\n    description: |\n      This event fires when the user saves a screenshot using the Roblox\n      screenshot capture UI. It can be used for analytics or to prompt the user\n      to share their capture.\n    codesamples: []\n    parameters:\n      - name: captureContentId\n        type: ContentId\n        default:\n        summary: |\n          The contentId identifying the screenshot that the user saved.\n    tags: []\n    deprecationmessage: ''\n    security: None\n    capabilities:\n      - Capture\ncallbacks: []",
    "source": "CaptureService.yaml"
}