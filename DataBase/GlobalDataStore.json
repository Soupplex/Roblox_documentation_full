{
    "title": "GlobalDataStore",
    "description": "",
    "content": "This file is automatically generated. Please don't edit it manually.\nTo submit a bug report on the content, see\nhttps://devforum.roblox.com/c/bug-reports/documentation-issues/72\n\nname: GlobalDataStore\ntype: class\nmemorycategory: Instances\nsummary: |\n  An object that exposes methods to access a single data store.\ndescription: |\n  A GlobalDataStore exposes functions for saving and loading data for the\n  Class.DataStoreService.\n\n  See Data stores for an\n  in-depth guide on data structure, management, error handling, limits, and\n  more.\n\n  Ordered data stores do not support versioning and metadata, so\n  Class.DataStoreKeyInfo is always nil for keys in an\n  Class.OrderedDataStore. If you need versioning and metadata support, use a\n  Class.DataStore.\ncodesamples: []\ninherits:\n  - Instance\ndescendants:\n  - DataStore\n  - OrderedDataStore\ntags:\n  - NotCreatable\n  - NotReplicated\ndeprecationmessage: ''\nproperties: []\nmethods:\n  - name: GlobalDataStore:GetAsync\n    summary: |\n      Returns the value of a key in a specified data store and a\n      Class.DataStoreKeyInfo instance.\n    description: |\n      This function returns the latest value of the provided key and a\n      Class.DataStoreKeyInfo instance. If the key does not exist or if the\n      latest version has been marked as deleted, both return values will be\n      nil.\n\n      Keys are cached locally for 4 seconds after the first read. A\n      Class.GlobalDataStore:GetAsync() call within these 4 seconds returns a\n      value from the cache. Modifications to the key by\n      Class.GlobalDataStore:SetAsync() or\n      Class.GlobalDataStore:UpdateAsync() apply to the cache immediately and\n      restart the 4 second timer.\n\n      To get a specific version, such as a version before the latest, use\n      Class.DataStore:GetVersionAsync().\n    codesamples: []\n    parameters:\n      - name: key\n        type: string\n        default:\n        summary: |\n          The key name for which the value is requested. If\n          Class.DataStoreOptions.AllScopes was set to true when accessing the\n          data store through Class.DataStoreService:GetDataStore(), this key\n          name must be prepended with the original scope as in \"scope/key\".\n      - name: options\n        type: DataStoreGetOptions\n        default: nil\n        summary: ''\n    returns:\n      - type: Tuple\n        summary: |\n          The value of the entry in the data store with the given key and a\n          Class.DataStoreKeyInfo instance that includes the version number,\n          date and time the version was created, and functions to retrieve\n          Class.Player.UserId|UserIds and metadata.\n    tags:\n      - Yields\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - DataStore\n  - name: GlobalDataStore:IncrementAsync\n    summary: |\n      Increments the value of a key by the provided amount (both must be\n      integers).\n    description: |\n      This function increments the value of a key by the provided amount (both\n      must be integers).\n\n      Values in Class.GlobalDataStore|GlobalDataStores are versioned as\n      outlined in\n      versioning.\n      Class.OrderedDataStore|OrderedDataStores do not support versioning, so\n      calling this method on an ordered data store key will overwrite the\n      current value with the incremented value and make previous versions\n      inaccessible.\n    codesamples: []\n    parameters:\n      - name: key\n        type: string\n        default:\n        summary: |\n          Key name for which the value should be updated. If\n          Class.DataStoreOptions.AllScopes was set to true when accessing the\n          data store through Class.DataStoreService:GetDataStore(), this key\n          name must be prepended with the original scope as in \"scope/key\".\n      - name: delta\n        type: int\n        default: 1\n        summary: |\n          Amount to increment the current value by.\n      - name: userIds\n        type: Array\n        default: '{}'\n        summary: |\n          (Optional) A table of Class.Player.UserId|UserIds to associate\n          with the key.\n      - name: options\n        type: DataStoreIncrementOptions\n        default: nil\n        summary: |\n          (Optional) Class.DataStoreIncrementOptions instance that\n          combines multiple additional parameters as custom metadata and allows\n          for future extensibility.\n    returns:\n      - type: Variant\n        summary: |\n          The updated value of the entry in the data store with the given key.\n    tags:\n      - Yields\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - DataStore\n  - name: GlobalDataStore:OnUpdate\n    summary: |\n      Sets a callback function to be executed any time the value associated with\n      a key is changed.\n    description: |\n      This function sets callback as the function to be run any time the value\n      associated with the key changes. Once every minute, OnUpdate polls for\n      changes by other servers. Changes made on the same server will run the\n      function immediately. In other words, functions like\n      Class.GlobalDataStore:IncrementAsync()|IncrementAsync(),\n      Class.GlobalDataStore:SetAsync()|SetAsync(), and\n      Class.GlobalDataStore:UpdateAsync()|UpdateAsync() change the key's value\n      in the data store and will cause the function to run.\n\n      It's recommended that you disconnect the connection when the\n      subscription to the key is no longer needed.\n    codesamples:\n      - GlobalDataStore-OnUpdate1\n    parameters:\n      - name: key\n        type: string\n        default:\n        summary: |\n          The key identifying the entry being retrieved from the data store.\n      - name: callback\n        type: Function\n        default:\n        summary: |\n          The function to be executed any time the value associated with key\n          is changed.\n    returns:\n      - type: RBXScriptConnection\n        summary: |\n          The connection to the key being tracked for updates.\n    tags:\n      - Deprecated\n    deprecationmessage: |\n      This function has been deprecated and should not be used in new work. You\n      can use the Class.MessagingService|Cross Server Messaging Service to\n      publish and subscribe to topics to receive near real-time updates,\n      completely replacing the need for this function.\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - DataStore\n  - name: GlobalDataStore:RemoveAsync\n    summary: |\n      Removes the specified key while also retaining an accessible version.\n    description: |\n      This function marks the specified key as deleted by creating a new\n      \"tombstone\" version of the key. Prior to this, it returns the latest\n      version prior to the remove call.\n\n      After a key is removed via this function,\n      Class.GlobalDataStore:GetAsync() calls for the key will return nil.\n      Older versions of the key remain accessible through\n      Class.DataStore:ListVersionsAsync() and\n      Class.DataStore:GetVersionAsync(), assuming they have not expired.\n\n      Class.OrderedDataStore does not support versioning, so calling\n      Class.GlobalDataStore:RemoveAsync()|RemoveAsync() on an\n      Class.OrderedDataStore key will permanently delete it.\n\n      Removed objects will be deleted permanently after 30 days.\n\n      If the previous values were already deleted via\n      Class.GlobalDataStore:RemoveAsync() or\n      Class.DataStore:RemoveVersionAsync(), the function will return nil,\n      nil for value and Class.DataStoreKeyInfo respectively.\n    codesamples: []\n    parameters:\n      - name: key\n        type: string\n        default:\n        summary: |\n          Key name to be removed. If Class.DataStoreOptions.AllScopes was set\n          to true when accessing the data store through\n          Class.DataStoreService:GetDataStore(), this key name must be\n          prepended with the original scope as in \"scope/key\".\n    returns:\n      - type: Tuple\n        summary: |\n          The value of the data store prior to deletion and a\n          Class.DataStoreKeyInfo instance that includes the version number,\n          date and time the version was created, and functions to retrieve\n          Class.Player.UserId|UserIds and metadata.\n    tags:\n      - Yields\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - DataStore\n  - name: GlobalDataStore:SetAsync\n    summary: |\n      Sets the value of the data store for the given key.\n    description: |\n      This function sets the latest value, Class.Player.UserId|UserIds, and\n      metadata for the given key.\n\n      Values in Class.GlobalDataStore|GlobalDataStores are versioned as\n      outlined in\n      versioning.\n      Class.OrderedDataStore|OrderedDataStores do not support versioning, so\n      calling this method on an ordered data store key will overwrite the\n      current value and make previous versions inaccessible.\n\n      Metadata definitions must always be updated with a value, even if there\n      are no changes to the current value; otherwise the current value will be\n      lost.\n\n      Any string being stored in a data store must be valid\n      Library.utf8|UTF-8. In UTF-8, values greater than 127 are used\n      exclusively for encoding multi-byte codepoints, so a single byte greater\n      than 127 will not be valid UTF-8 and the\n      Class.GlobalDataStore:SetAsync() attempt will fail.\n\n      #### Set vs. Update\n\n      Class.GlobalDataStore:SetAsync() is best for a quick update of a\n      specific key, and it only counts against the write limit. However, it may\n      cause data inconsistency if two servers attempt to set the same key at the\n      same time. Class.GlobalDataStore:UpdateAsync() is safer for handling\n      multi-server attempts because it reads the current key value (from\n      whatever server last updated it) before making any changes. However, it's\n      somewhat slower because it reads before it writes, and it also counts\n      against both the read and write limit.\n    codesamples: []\n    parameters:\n      - name: key\n        type: string\n        default:\n        summary: |\n          Key name for which the value should be set. If\n          Class.DataStoreOptions.AllScopes was set to true when accessing the\n          data store through Class.DataStoreService:GetDataStore(), this key\n          name must be prepended with the original scope as in \"scope/key\".\n      - name: value\n        type: Variant\n        default:\n        summary: |\n          The value that the data store key will be set to.\n      - name: userIds\n        type: Array\n        default: '{}'\n        summary: |\n          Table of Class.Player.UserId|UserIds, highly recommended to assist\n          with GDPR tracking/removal.\n      - name: options\n        type: DataStoreSetOptions\n        default: nil\n        summary: |\n          (Optional) Class.DataStoreSetOptions instance that allows for\n          metadata specification on the key.\n    returns:\n      - type: Variant\n        summary: |\n          The version identifier of the newly created version. It can be used to\n          retrieve key info using\n          Class.DataStore:GetVersionAsync()|GetVersionAsync() or to remove it\n          using Class.DataStore:RemoveVersionAsync()|RemoveVersionAsync().\n    tags:\n      - Yields\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - DataStore\n  - name: GlobalDataStore:UpdateAsync\n    summary: |\n      Updates a key's value with a new value from the specified callback\n      function.\n    description: |\n      This function retrieves the value and metadata of a key from the data\n      store and updates it with a new value determined by the callback function\n      specified through the second parameter. If the callback returns nil, the\n      write operation is cancelled and the value remains unchanged.\n\n      Values in Class.GlobalDataStore|GlobalDataStores are versioned as\n      outlined in\n      versioning.\n      Class.OrderedDataStore|OrderedDataStores do not support versioning, so\n      calling this method on an ordered data store key will overwrite the\n      current value and make previous versions inaccessible.\n\n      In cases where another game server updated the key in the short timespan\n      between retrieving the key's current value and setting the key's value,\n      Class.GlobalDataStore:UpdateAsync() will call the function again,\n      discarding the result of the previous call. The function will be called as\n      many times as needed until the data is saved or until the callback\n      function returns nil. This can be used to ensure that no data is\n      overwritten.\n\n      Any string being stored in a data store must be valid\n      Library.utf8|UTF-8. In UTF-8, values greater than 127 are used\n      exclusively for encoding multi-byte codepoints, so a single byte greater\n      than 127 will not be valid UTF-8 and the\n      Class.GlobalDataStore:UpdateAsync() attempt will fail.\n\n      #### Set vs. Update\n\n      Class.GlobalDataStore:SetAsync() is best for a quick update of a\n      specific key, and it only counts against the write limit. However, it may\n      cause data inconsistency if two servers attempt to set the same key at the\n      same time. Class.GlobalDataStore:UpdateAsync() is safer for handling\n      multi-server attempts because it reads the current key value (from\n      whatever server last updated it) before making any changes. However, it's\n      somewhat slower because it reads before it writes, and it also counts\n      against both the read and write limit.\n\n      #### Callback Function\n\n      The callback function accepts two arguments:\n\n      - Current value of the key prior to the update.\n      - Class.DataStoreKeyInfo instance that contains the latest version\n        information (this argument can be ignored if metadata is not being\n        used).\n\n      In turn, the callback function returns up to three values:\n\n      - The new value to set for the key.\n      - An array of Class.Player.UserId|UserIds to associate with the key.\n        Class.DataStoreKeyInfo:GetUserIds() should be returned unless the\n        existing IDs are being changed; otherwise all existing IDs will be\n        cleared.\n      - A Luau table containing metadata to associate with the key.\n        Class.DataStoreKeyInfo:GetMetadata() should be returned unless the\n        existing metadata is being changed; otherwise all existing metadata will\n        be cleared.\n\n      If the callback returns nil instead, the current server will stop\n      attempting to update the key.\n\n      The callback function cannot yield, so do not include calls like\n      Library.task.wait().\n    codesamples: []\n    parameters:\n      - name: key\n        type: string\n        default:\n        summary: |\n          Key name for which the value should be updated. If\n          Class.DataStoreOptions.AllScopes was set to true when accessing the\n          data store through Class.DataStoreService:GetDataStore(), this key\n          name must be prepended with the original scope as in \"scope/key\".\n      - name: transformFunction\n        type: Function\n        default:\n        summary: |\n          Transform function that takes the current value and\n          Class.DataStoreKeyInfo as parameters and returns the new value along\n          with optional Class.Player.UserId|UserIds and metadata.\n    returns:\n      - type: Tuple\n        summary: |\n          The updated value of the entry in the data store with the given key\n          and a Class.DataStoreKeyInfo instance that includes the version\n          number, date and time the version was created, and functions to\n          retrieve Class.Player.UserId|UserIds and metadata.\n    tags:\n      - Yields\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - DataStore\nevents: []\ncallbacks: []",
    "source": "GlobalDataStore.yaml"
}