{
    "title": "Mouse and keyboard input",
    "description": "Explains Roblox support for computer mice and keyboards.",
    "content": "A large percentage of Roblox sessions are played on devices with a mouse and keyboard, so it's important to support these inputs when designing an experience for a wide audience.\n\nTo simplify cross‑platform inputs, including mouse/keyboard, Roblox provides the Input Action System to define actions such as \"jump,\" \"sprint,\" or \"shoot\" and set up bindings for multiple hardware inputs to drive those actions.\n\nRoblox also supports general mouse/keyboard input through Class.UserInputService events like Class.UserInputService.InputBegan|InputBegan and Class.UserInputService.InputEnded|InputEnded and methods like Class.UserInputService:IsKeyDown()|IsKeyDown() to check if a particular key is pressed on a keyboard.\n\nInput type detection\n\nIn cross‑platform development, it's important that you determine and respond to the Class.UserInputService.PreferredInput|PreferredInput type a player is using, normally to ensure that UI elements like on-screen buttons and menus work elegantly and support interaction across devices.\n\nFor example, a PC or laptop assumes mouse/keyboard is the default input, but a player may choose to connect a bluetooth gamepad. In this case, mouse/keyboard remains a valid input, but you can assume the player wants to switch to the connected gamepad as the primary input type.\n\nSee input type detection for more information.\n\nGeneric mouse/key input\n\nBeyond the Input Action System, you can capture mouse and keyboard inputs using Class.UserInputService. The following Class.LocalScript, when placed in Class.StarterPlayerScripts, captures the began and ended phases of key and mouse clicks and prints the result to the Output window.\n\nlua title=\"LocalScript - Output Key/Mouse Began and Ended\"\nlocal UserInputService = game:GetService(\"UserInputService\")\n\nlocal function onInputBegan(inputObject, processedEvent)\n\t-- Return if another script has already processed the input\n\tif processedEvent then return end\n\n\tprint(inputObject.KeyCode.Name, \"began!\", inputObject.Position)\nend\n\nlocal function onInputEnded(inputObject, processedEvent)\n\t-- Return if another script has already processed the input\n\tif processedEvent then return end\n\n\tprint(inputObject.KeyCode.Name, \"ended!\", inputObject.Position)\nend\n\nUserInputService.InputBegan:Connect(onInputBegan)\nUserInputService.InputEnded:Connect(onInputEnded)\n\nMouse icon\n\nYou can customize the appearance and behavior of a player's mouse icon within your experience to create a cohesive style across all of your UI elements. This includes temporarily changing the player's mouse icon in specific circumstances, such as hovering over a button.\n\nYou can change the player's mouse icon in a Class.LocalScript by setting the Class.UserInputService.MouseIcon|MouseIcon property in Class.UserInputService to a custom Roblox asset ID. For example, the following Class.LocalScript changes the player's default mouse icon to a circle with a blue dot in the middle.\n\nlua highlight=\"3\"\nlocal UserInputService = game:GetService(\"UserInputService\")\n\nUserInputService.MouseIcon = \"rbxassetid://3400146391\"\n\nYou can hide the player's mouse icon by setting the Class.UserInputService.MouseIconEnabled to false in a Class.LocalScript. For example, the following code switches the mouse icon from visible to invisible and back every two seconds.\n\nlua highlight=\"5,7\"\nlocal UserInputService = game:GetService(\"UserInputService\")\n\nwhile true do\n\ttask.wait(2)\n\tUserInputService.MouseIconEnabled = false\n\ttask.wait(2)\n\tUserInputService.MouseIconEnabled = true\nend\n\nYou can lock the mouse icon's position to the screen using Class.UserInputService.MouseBehavior with a Enum.MouseBehavior value of Enum.MouseBehavior|LockCurrentPosition or Enum.MouseBehavior|LockCenter, then unlock it again with a value of Enum.MouseBehavior|Default.\n\nIf a player's mouse icon is locked in a position, Class.UserInputService.InputChanged still fires when the player moves the mouse, passing in the distance the mouse has moved. For example, the following code sample locks the player's mouse icon after one second, then Studio prints the mouse delta whenever the player moves their mouse.\n\nlua highlight=\"5\"\nlocal UserInputService = game:GetService(\"UserInputService\")\n\ntask.wait(5)\n\nUserInputService.MouseBehavior = Enum.MouseBehavior.LockCurrentPosition\n\nUserInputService.InputChanged:Connect(function(inputObject)\n\tif inputObject.UserInputType == Enum.UserInputType.MouseMovement then\n\t\tprint(\"Mouse delta is (\" .. tostring(inputObject.Delta.X) .. \", \" ..  tostring(inputObject.Delta.Y) .. \")\")\n\tend\nend)",
    "source": "mouse-and-keyboard.md"
}