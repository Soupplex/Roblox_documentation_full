{
    "title": "Voice Chat",
    "description": "Explains how to use the Voice Chat feature.",
    "content": "Voice Chat is currently available to all 13+ phone number verified users in a specific set of countries. Review the Voice Chat FAQ to learn more. Users not in these countries should use ID verification to enable chat with voice. Once verified, eligible 13+ phone verified users can opt‑in to use this feature by visiting their account Settings page or from within a voice enabled experience, allowing them to chat with voice in any Roblox experience that supports it. Experiences with voice often see an uplift in engagement, DAU, and spending.\n\nVoice Chat is a feature enabling real-time, spoken communication between yourself and other players. It is only available for places that support a maximum of 50 players.\n\nEnable Voice Chat\n\nBefore you can enable Voice Chat in an experience, you must first publish it, then:\n\n1. Open your experience in Studio.\n1. Open File ⟩ Experience Settings.\n1. Navigate to the Communication tab on the left side of the window.\n1. Toggle Enable Microphone so the selector turns from gray to green.\n1.  For greater communication among players within your experience, toggle on Enable Camera to allow eligible players to animate their avatar with their movement.\n1. Publish the place to save the changes.\n\nVoice Chat will now be available to verified 13+ users who opt‑in to the feature, in every place within the experience that's set to a maximum of 50 players.\n\nSet maximum players\n\nIf you previously set the maximum number of players in a place to more than 50, you'll need to reduce it to support Voice Chat.\n\n1. In the left-hand navigation of the Experience Settings window, select Places. Every place within your experience displays.\n1. Click the &ctdot; button next to the place with more than 50 players, then select Configure Place.\n1. In the Max Players field, enter any number less than or equal to 50.\n1. Click the Save button and then publish to save the changes.\n\nWhen you update the maximum number of players in a place to fewer than 50, there may be servers already configured to a different, higher number. Since those servers won't support Voice Chat, it's recommended to restart servers.\n\nCustomize voice behavior\n\nVoice Chat is proximity-based by default, adjusting the volume of participants based on how close they are to each other. However, you can set Class.VoiceChatService.UseAudioApi|UseAudioApi to Enum.AudioApiRollout|Enabled to take control over how voices are set up and used in your experience.\n\nIf Class.VoiceChatService does not appear already:\n\n1. Right‑click in the Explorer window and select Show Services… from the context menu.\n2. Select Class.VoiceChatService in the popup window and click Insert. The service appears in the Explorer hierarchy.\n\n\n\n3. With Class.VoiceChatService selected, ensure that Class.VoiceChatService.UseAudioApi|UseAudioApi to Enum.AudioApiRollout|Enabled in the Properties window. This may already be done for you.\n\nTeam-based\n\nTo implement Class.Team-based chat where only teammates can hear one another, you can use the following Class.Script within Class.ServerScriptService:\n\nlua title=\"Team Chat\"\nlocal Teams = game:GetService(\"Teams\")\n\nlocal function findAudioInput(forPlayer : Player) : AudioDeviceInput?\n\t-- Assumes there is only one AudioDeviceInput per player, parented to the Player object\n\t-- This is provided for you if VoiceChatService.EnableDefaultVoice is true\n\t-- May need to be reworked for generality if your place puts AudioDeviceInput objects elsewhere\n\treturn forPlayer:FindFirstChildWhichIsA(\"AudioDeviceInput\")\nend\n\nlocal function onTeamChanged(player : Player)\n\tlocal team = player.Team\n\tif not team then return end\n\n\tlocal device = findAudioInput(player)\n\tif not device then return end\n\n\t-- Only permit teammates to hear each other\n\tdevice.AccessType = Enum.AccessModifierType.Allow\n\tlocal allowed = {}\n\tfor , player : Player in team:GetPlayers() do\n\t\ttable.insert(allowed, player.UserId)\n\tend\n\n\tdevice:SetUserIdAccessList(allowed)\nend\n\nlocal function onTeamAdded(team : Team)\n\tteam.PlayerAdded:Connect(onTeamChanged)\n\tteam.PlayerRemoved:Connect(onTeamChanged)\nend\n\nfor , team : Team in Teams:GetTeams() do\n\tonTeamAdded(team)\nend\n\nTeams.ChildAdded:Connect(function(child : Instance)\n\tif child:IsA(\"Team\") then\n\t\tonTeamAdded(child)\n\tend\nend)\n\nNon-spatial\n\nDepending on your experience's needs, it might make more sense to hear others with equal volume, regardless of their geographic location. If you disable default Voice Chat, you can then implement non‑spatial Voice Chat through the following Class.Script within Class.ServerScriptService:\n\nlua title=\"Non-Proximity Chat\"\nlocal Players = game:GetService(\"Players\")\nlocal Workspace = game:GetService(\"Workspace\")\n\nlocal function wireUp(source : Instance, target : Instance)\n\tlocal wire = Instance.new(\"Wire\")\n\twire.SourceInstance = source\n\twire.TargetInstance = target\n\twire.Parent = source\nend\n\n-- Set up a global volume slider for everybody's voice\nlocal volumeSlider = Instance.new(\"AudioFader\", Workspace)\nlocal output = Instance.new(\"AudioDeviceOutput\", Workspace)\nwireUp(volumeSlider, output)\n\nlocal function onPlayerAdded(player : Player)\n\tlocal device = Instance.new(\"AudioDeviceInput\", player)\n\tdevice.Player = player\n\t-- Route each new player's microphone input to the global volume slider\n\twireUp(device, volumeSlider)\nend\n\nfor , player in Players:GetPlayers() do\n\tonPlayerAdded(player)\nend\nPlayers.PlayerAdded:Connect(onPlayerAdded)\n\nThe above script runs on the server, creating an Class.AudioDeviceInput per‑player and connecting them all to a shared Class.AudioFader. Taking this behavior as‑is allows players to hear all other players and themselves. Since hearing yourself can be quite distracting, you can place the following Class.LocalScript in Class.StarterPlayerScripts to remove the Class.Wire|Wires that would otherwise ferry your own voice back to your own speakers.\n\nlua title=\"LocalScript\"\nlocal Players = game:GetService(\"Players\")\n\nlocal player = Players.LocalPlayer\n\nlocal function onDescendantAdded(descendant : Instance)\n\tif descendant:IsA(\"Wire\") then\n\t\tdescendant:Destroy()\n\tend\nend\n\nfor , descendant in player:GetDescendants() do\n\tonDescendantAdded(descendant)\nend\nplayer.DescendantAdded:Connect(onDescendantAdded)\n\nDisable per place\n\nIf you don't want to enable Voice Chat for every place within your experience, you can disable it within specific places that would otherwise be voice‑eligible.\n\nIf you're currently setting a place's Max Players to a value over 50 in order to disable Voice Chat, it's recommended to use this workflow instead.\n\nTo disable Voice Chat for a specific place within an experience:\n\n1. Right‑click in the Explorer window and select Show Services… from the context menu.\n2. Select Class.VoiceChatService in the popup window and click Insert. The service appears in the Explorer hierarchy.\n\n\n\n3. With Class.VoiceChatService selected, disable Class.VoiceChatService.EnableDefaultVoice|EnableDefaultVoice in the Properties window.\n4. Publish the place to save the changes and restart servers to ensure the change takes effect for all servers currently running your experience.\n\nCheck status\n\nYou can check if a player has enabled Voice Chat by calling Class.VoiceChatService:IsVoiceEnabledForUserIdAsync()|IsVoiceEnabledForUserIdAsync() in a Class.LocalScript, or in a Class.Script with Class.BaseScript.RunContext|RunContext set to Enum.RunContext.Client.\n\nlua title=\"Client Script - Check Voice Chat Status\"\nlocal Players = game:GetService(\"Players\")\nlocal VoiceChatService = game:GetService(\"VoiceChatService\")\n\nlocal localPlayer = Players.LocalPlayer\n\nlocal success, enabled = pcall(function()\n\treturn VoiceChatService:IsVoiceEnabledForUserIdAsync(localPlayer.UserId)\nend)\nif success and enabled then\n\tprint(\"Voice Chat enabled!\")\nend",
    "source": "voice-chat.md"
}