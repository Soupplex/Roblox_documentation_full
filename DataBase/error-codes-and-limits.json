{
    "title": "Data store error codes and limits",
    "description": "Error codes you might encounter and limits you might hit when using data stores (DataStores) to store data.",
    "content": "Requests you make to data stores can fail due to poor connectivity or other issues. To handle errors and return messages with an error code, wrap data store functions in Global.LuaGlobals.pcall().\n\nError code reference\n\n\n    Error code\n    Error name\n    Error message\n    Notes\n\n\n\n    101\n    KeyNameEmpty\n    Key name can't be empty.\n    Check if the key input into the data store function is an empty string.\n\n\n    102\n    KeyNameLimit\n    Key name exceeds the 50 character limit.\n    Check if the key input into the data store function exceeds a length of 50.\n\n\n    103\n    ValueNotAllowed\n    Can't allow X in DataStore.\n    A bad update function returned a value of type X.\n\n\n    104\n    CantStoreValue\n    Can't store X in DataStore.\n    The update function returned a value of type X that didn't serialize.\n\n\n    105\n    ValueTooLarge\n    Serialized value exceeds X limit.\n    If you're setting a value with Class.GlobalDataStore:SetAsync()|SetAsync() or Class.GlobalDataStore:UpdateAsync()|UpdateAsync(), the serialized length of the value can't exceed the size X. To check the serialized length of the data, use Class.HttpService:JSONEncode()|JSONEncode().\n\n\n    106\n    MaxValueInvalid\n    MaxValue must be an integer.\n    If you're passing a maximum value to Class.OrderedDataStore:GetSortedAsync()|GetSortedAsync() for an Class.OrderedDataStore, it must be an integer.\n\n\n    106\n    MinValueInvalid\n    MinValue must be an integer.\n    If you're passing a minimum value to Class.OrderedDataStore:GetSortedAsync()|GetSortedAsync() for an Class.OrderedDataStore, it must be an integer.\n\n\n    106\n    PageSizeGreater\n    PageSize must be within a predefined range.\n    The minimum page size for an Class.OrderedDataStore is 1.\n\n\n    106\n    PageSizeLesser\n    PageSize must be within a predefined range.\n    The maximum page size for an Class.OrderedDataStore is 100.\n\n\n    107\n    MinMaxOrderInvalid\n    MaxValue must be greater than or equal to MinValue.\n    The maximum value must be greater than or equal to the minimum value for Class.OrderedDataStore:GetSortedAsync()|GetSortedAsync().\n\n\n    301\n    GetAsyncThrottle\n    GetAsync request dropped. Request was throttled but queue was full.\n    Class.GlobalDataStore:GetAsync()|GetAsync() request has exceeded the maximum queue size and Roblox is unable to process the requests at the current throughput.\n\n\n    302\n    SetAsyncThrottle\n    SetAsync request dropped. Request was throttled but queue was full.\n    Class.GlobalDataStore:SetAsync()|SetAsync() request has exceeded the maximum queue size and Roblox is unable to process the requests at the current throughput.\n\n\n    303\n    IncreAsyncThrottle\n    IncrementAsync request dropped. Request was throttled but queue was full.\n    Class.GlobalDataStore:IncrementAsync()|IncrementAsync() request has exceeded the maximum queue size and Roblox is unable to process the requests at the current throughput.\n\n\n    304\n    UpdateAsyncThrottle\n    UpdateAsync request dropped. Request was throttled but queue was full.\n    Class.GlobalDataStore:UpdateAsync()|UpdateAsync() request has exceeded the maximum queue size and Roblox is unable to process the requests at the current throughput.\n\n\n    304\n    TransformThrottle\n    UpdateAsync request dropped. Request was throttled but queue was full.\n    Class.GlobalDataStore:UpdateAsync()|UpdateAsync() request has exceeded the maximum queue size and Roblox is unable to process the requests at the current throughput.\n\n\n    305\n    GetSortedThrottle\n    GetSorted request dropped. Request was throttled but queue was full.\n    Class.OrderedDataStore:GetSortedAsync()|GetSortedAsync() request has exceeded the maximum queue size and Roblox is unable to process the requests at the current throughput.\n\n\n    306\n    RemoveAsyncThrottle\n    RemoveAsync request dropped. Request was throttled but queue was full.\n    Class.GlobalDataStore:RemoveAsync()|RemoveAsync() request has exceeded the maximum queue size and Roblox is unable to process the requests at the current throughput.\n\n\n    401\n    DataModelNoAccess\n    Request failed. DataModel is inaccessible while the experience is shutting down.\n    Class.DataModel is uninitialized because the experience is shutting down.\n\n\n    402\n    LuaWebSrvsNoAccess\n    Request failed. LuaWebService is inaccessible while the experience is shutting down.\n    Class.LuaWebService is uninitialized because the experience is shutting down.\n\n\n    403\n    StudioAccessToApisNotAllowed\n    Can't write to DataStore from Studio because API access is not enabled.\n    API access must be active in order to use Data Stores in Studio.\n\n\n    404\n    InternalError\n    OrderedDataStore doesn't exist.\n    The Class.OrderedDataStore associated with this request wasn't found. This might be a sign of data corruption. Try again later.\n\n\n    501\n    InternalError\n    Can't parse response because data might be corrupted.\n    The server was unable to parse the response to your request. This might be a sign of data corruption. Try again later.\n\n\n    502\n    RequestRejected\n    API Services rejected the request with error X.\n    Error X occurred when processing on Roblox servers. Try again later.\n\n\n    503\n    InternalError\n    Data store request was successful but key wasn't found.\n    The key requested wasn't found in the Data Store. This might be a sign of data corruption. Try again later.\n\n\n    504\n    InternalError\n    Data Store request was successful but the response wasn't formatted correctly.\n    The server was unable to parse the response to your request. This might be a sign of data corruption. Try again later.\n\n\n    505\n    InternalError\n    OrderedDataStore request was successful but the response wasn't formatted correctly.\n    The server was unable to parse the response to your Class.OrderedDataStore request. This might be a sign of data corruption. Try again later.\n\n\n    509\n    OperationNotAllowed\n    Data Store operations are blocked while running on a Personal RCC to prevent possible data corruption.\n    Data Store writes are blocked on private RCC channels.\n\n\n    511\n    AttributeSizeTooLarge\n    Metadata attribute size exceeds X limit.\n    The serialized metadata size exceeds the limit of X. The value X is dynamic. If the size changes, the value also changes.\n\n\n    512\n    UserIdLimitExceeded\n    UserID size exceeds X limit.\n    The length of the user IDs array provided by the user exceeds the limit of X.\n\n\n    513\n    AttributeFormatError\n    Attribute userId format is invalid.\n    The user ID provided isn't a number.\n\n\n    513\n    AttributeFormatError\n    Attribute metadata format is invalid.\n    The metadata isn't a table.\n\n\n\n    GetVersionAsyncThrottle\n    GetVersionAsync request dropped. Request was throttled.\n    Class.DataStore:GetVersionAsync()|GetVersionAsync() request has exceeded the maximum queue size and Roblox is unable to process the requests at the current throughput.\n\n\n\n    GetVersionAtTimeAsyncThrottle\n    GetVersionAtTimeAsync request dropped. Request was throttled.\n    Class.DataStore:GetVersionAtTimeAsync()|GetVersionAtTimeAsync() request has exceeded the maximum queue size and Roblox is unable to process the requests at the current throughput.\n\n\n\n    ListDataStoresAsyncThrottle\n    ListDataStoresAsync request dropped. Request was throttled.\n    Class.DataStoreService:ListDataStoresAsync()|ListDataStoresAsync() request has exceeded the maximum queue size and Roblox is unable to process the requests at the current throughput.\n\n\n\n    ListKeysAsyncThrottle\n    ListKeysAsync request dropped. Request was throttled.\n    Class.DataStore:ListKeysAsync()|ListKeysAsync() request has exceeded the maximum queue size and Roblox is unable to process the requests at the current throughput.\n\n\n\n    ListVersionsAsyncThrottle\n    ListVersionsAsync request dropped. Request was throttled.\n    Class.DataStore:ListVersionsAsync()|ListVersionsAsync() request has exceeded the maximum queue size and Roblox is unable to process the requests at the current throughput.\n\n\n\n    RemoveVersionAsyncThrottle\n    RemoveVersionAsync request dropped. Request was throttled.\n    Class.DataStore:RemoveVersionAsync()|RemoveVersionAsync() request has exceeded the maximum queue size and Roblox is unable to process the requests at the current throughput.\n\n\n\n\n    InvalidTimestamp\n    Timestamp must be positive and not more than ten minutes in the future.\n    The timestamp provided to Class.DataStore:GetVersionAtTimeAsync()|GetVersionAtTimeAsync() was not valid.\n\n\n\nServer error codes\n\n\n    Error name\n    Error message\n    Notes\n\n\n\n    DatastoreThrottled\n    The request rate exceeds the allowed maximum for the datastore.\n    Too many requests were sent to a single Data Store.\n\n\n    InternalServerError\n    An internal server error occurred.\n    Occasional error on Roblox servers. Try again, ideally with exponential backoff.\n\n\n    InvalidPlace\n    The provided place is invalid.\n    No matching Universe ID for the place. Try again later.\n\n\n    InvalidTarget\n    The provided target is invalid.\n    Ordered Data Store key name exceeds the 50 character limit.\n\n\n    InvalidUniverse\n    The provided universe is invalid.\n    No matching Place ID for the universe. Try again later.\n\n\n    InvalidUserIds\n    The provided user IDs have an invalid format.\n    Failed to parse user IDs.\n\n\n    KeyThrottled\n    The request rate exceeds the allowed maximum for the key.\n    The request rate exceeds the maximum allowed request rate for a single key.\n\n\n    KeyNotFound\n    The requested key doesn't exist.\n    The key doesn't exist.\n\n\n    N/A\n    No pages to advance to.\n    This error occurs when you call Class.Pages:AdvanceToNextPageAsync() on the last page.\n\n\nLimits\n\nData models have limits. If an experience exceeds these limits, the service automatically throttles the experience's data store usage and causes future requests to be placed in one of the following queues:\n\n- Set\n- Ordered set\n- Get\n- Ordered get\n\nRequests in a queue are handled in the order they are received. The called function continues to yield as long as its request is still queued. If the data store key itself is throttled, the request is placed in a queue but is temporarily skipped.\n\nEach queue has a limit of 30 requests. When the limit of a queue is reached, requests fail with an error code in the 301-306 range, indicating that the requests have been dropped entirely.\n\nServer limits\n\n  Each server is allowed a certain number of data store requests based on the request type and number of users. Servers often receive a one-time allotment of additional requests when they first start up. Use Class.DataStoreService:GetRequestBudgetForRequestType()|GetRequestBudgetForRequestType() to confirm the number of data store requests that the current place can make.\n\n  For each request type, the limit is shared among all listed functions.\n\n\n\n\n      Request type\n      Functions\n      Requests per minute\n\n\n\n\n      Get\n      Class.GlobalDataStore:GetAsync()|GetAsync()\n      60 + numPlayers × 10\n\n\n      Set\n      Class.DataStore:SetAsync()|SetAsync()Class.DataStore:IncrementAsync()|IncrementAsync()Class.DataStore:UpdateAsync()|UpdateAsync()Class.DataStore:RemoveAsync()|RemoveAsync()\n      60 + numPlayers × 10\n\n\n      Get Sorted\n      Class.OrderedDataStore:GetSortedAsync()|GetSortedAsync()\n      5 + numPlayers × 2\n\n\n      Ordered Set\n      Class.OrderedDataStore:SetAsync()|SetAsync()Class.OrderedDataStore:IncrementAsync()|IncrementAsync()Class.OrderedDataStore:UpdateAsync()|UpdateAsync()Class.OrderedDataStore:RemoveAsync()|RemoveAsync()\n      30 + numPlayers × 5\n\n\n      Get Version\n      Class.DataStore:GetVersionAsync()|GetVersionAsync()Class.DataStore:GetVersionAtTimeAsync()|GetVersionAtTimeAsync()\n      5 + numPlayers × 2\n\n\n      List\n      Class.DataStoreService:ListDataStoresAsync()|ListDataStoresAsync()Class.DataStore:ListKeysAsync()|ListKeysAsync()Class.DataStore:ListVersionsAsync()|ListVersionsAsync()\n      5 + numPlayers × 2\n\n\n      Remove Version\n      Class.DataStore:RemoveVersionAsync()|RemoveVersionAsync()\n      5 + numPlayers × 2\n\n\n\n\n\n  Server limits will be replaced by experience-level limits starting in 2026.\n\n\n  Each experience is allowed a certain number of data store requests based on the data store type, request type, and number of concurrent users. For each data store type and request type, the limit is shared among all listed functions.\n\n  Note that Class.GlobalDataStore:UpdateAsync()|UpdateAsync() will consume from both the read and write request limits.\n\n  Standard data stores\n\n\n\n\n      Request type\n      Functions\n      Requests per minute\n\n\n\n\n      Read\n      Class.DataStore:GetAsync()|GetAsync()Class.DataStore:GetVersionAsync()|GetVersionAsync()Class.DataStore:GetVersionAtTimeAsync()|GetVersionAtTimeAsync()Class.DataStore:UpdateAsync()|UpdateAsync()\n      250 + concurrentUsers × 40\n\n\n      Write\n      Class.DataStore:SetAsync()|SetAsync()Class.DataStore:IncrementAsync()|IncrementAsync()Class.DataStore:UpdateAsync()|UpdateAsync()\n      250 + concurrentUsers × 20\n\n\n      List\n      Class.DataStoreService:ListDataStoresAsync()|ListDataStoresAsync()Class.DataStore:ListKeysAsync()|ListKeysAsync()Class.DataStore:ListVersionsAsync()|ListVersionsAsync()\n      10 + concurrentUsers × 2\n\n\n      Remove\n      Class.DataStore:RemoveAsync()|RemoveAsync()\n      100 + concurrentUsers × 40\n\n\n      RemoveVersion (deprecated)\n      Class.DataStore:RemoveVersionAsync()|RemoveVersionAsync()\n      5 + concurrentUsers × 2\n\n\n\n\n  Ordered data stores\n\n\n\n\n      Request type\n      Functions\n      Requests per minute\n\n\n\n\n      Read\n      Class.OrderedDataStore:GetAsync()|GetAsync()Class.OrderedDataStore:UpdateAsync()|UpdateAsync()\n      250 + concurrentUsers × 40\n\n\n      Write\n      Class.OrderedDataStore:SetAsync()|SetAsync()Class.OrderedDataStore:IncrementAsync()|IncrementAsync()Class.OrderedDataStore:UpdateAsync()|UpdateAsync()\n      250 + concurrentUsers × 20\n\n\n      List\n      Class.OrderedDataStore:GetSortedAsync()|GetSortedAsync()\n      100 + concurrentUsers × 2\n\n\n      Remove\n      Class.OrderedDataStore:RemoveAsync()|RemoveAsync()\n      100 + concurrentUsers × 40\n\n\n\n\nData limits\n\nData stores limit how much data can be used per entry.\n\nThe data store name, key name, and scope must all be under a certain character length. Use Library.string.len() to check their length.\n\nThe data (key value) is also stored as a string, regardless of its initial type. You can check the size of the data with the Class.HttpService:JSONEncode()|JSONEncode() function, which converts Luau data into a serialized JSON table.\n\n\n    Component\n    Maximum number of characters\n\n\n\n    Data store name\n    50\n\n\n    Key name\n    50\n\n\n    Scope\n    50\n\n\n    Data (key value)\n    4,194,304 per key\n\n\nMetadata limits\n\nLimits to the number of characters in user-defined metadata.\n\n\n    Component\n    Maximum number of characters\n\n\n\n    Key name\n    50\n\n\n    Value\n    250\n\n\n    Key-value pairs\n    300\n\n\n  There's no limit to the total number of key-value pairs, but the total size can't exceed 300 characters.\n\nThroughput limits\n\nPer-key throughput limits ensure that performance is optimal on Roblox servers. Each limit applies to every single key across all servers in an experience and refreshes over time.\n\nRoblox examines the usage of quota associated with the key over the last 60 seconds. If the usage, including the current request, is within the throughput limit, the request is approved. If the usage exceeds the limit, the request is denied.\n\n\n    Request type\n    Limit\n\n\n\n    Read\n    25 MB per minute\n\n\n    Write\n    4 MB per minute\n\n\nIn addition to the above throughput limits, Roblox organizes data into partitions based on an internal schema. As a result, when the backend server receives a high volume of requests to the same data store, it can result in further throttling. Regardless of the cause, throttling manifests as either DatastoreThrottled or KeyThrottled errors, depending on whether the throughput limit was exceeded for a single data store or a key. These error messages apply to both ordered and standard data stores.\n\n  For every request, Roblox rounds throughput up to the next kilobyte. For example, if you write 800 bytes and 1.2 KB in two requests, Roblox counts that as 3 KB total throughput (1 KB and 2 KB, respectively).\n\nStorage limits\n\n  Currently, there are no enforced storage limits on data stores.\n\n  In the future, to provide a scalable and stable storage experience, data stores will implement an experience-level storage limit on your storage usage.\n\nThis limit will be the sum of a base limit for each of your experiences and a per-user limit based on the number of lifetime users in your experience. A lifetime user is any user who has joined your experience at least once.\n\nThe storage limit will be calculated using the formula Total latest version storage limit = 100 MB + 1 MB  lifetime user count.\n\nAny data that you delete or replace, even if still accessible through version APIs, will not count towards your experience's storage usage.",
    "source": "error-codes-and-limits.md"
}