{
    "title": "Use animations",
    "description": "Explains the process of playing animations through scripts, and replacing default animations.",
    "content": "Once you have created an animation, you need to use scripts to include them in your experience. You can either play animations manually from scripts or replace default animations for player characters.\n\nPlay animations from scripts\n\nIn some cases, you'll need to play an animation directly from inside a script, such as when a user presses a certain key or picks up a special item.\n\nHumanoids\n\nTo play an animation on a rig containing a Class.Humanoid\nobject, such as typical playable characters, follow this basic pattern:\n\n1. Ensure that the local player's Class.Humanoid contains an Class.Animator object.\n2. Create a new Class.Animation instance with the proper Class.Animation.AnimationId|AnimationId.\n3. Load the animation via Class.Animator:LoadAnimation() to create an Class.AnimationTrack.\n4. Play the track with Class.AnimationTrack:Play().\n\nFor example, the following Class.LocalScript, when placed in\nClass.StarterPlayerScripts, loads a \"kick\" animation onto the player's character and plays it. The script also utilizes the Class.AnimationTrack:GetMarkerReachedSignal()|GetMarkerReachedSignal() method to detect when a specific animation event occurs.\n\nlua title=\"LocalScript - Play Custom Animation on Player Character\"\nlocal Players = game:GetService(\"Players\")\n\nlocal player = Players.LocalPlayer\nlocal character = player.Character or player.CharacterAdded:Wait()\n\n-- Ensure that the character's humanoid contains an \"Animator\" object\nlocal humanoid = character:WaitForChild(\"Humanoid\")\nlocal animator = humanoid:WaitForChild(\"Animator\")\n\n-- Create a new \"Animation\" instance and assign an animation asset ID\nlocal kickAnimation = Instance.new(\"Animation\")\nkickAnimation.AnimationId = \"rbxassetid://2515090838\"\n\n-- Load the animation onto the animator\nlocal kickAnimationTrack = animator:LoadAnimation(kickAnimation)\n\n-- If a named event was defined for the animation, connect it to \"GetMarkerReachedSignal()\"\nkickAnimationTrack:GetMarkerReachedSignal(\"KickEnd\"):Connect(function(paramString)\n\tprint(paramString)\nend)\n\ntask.wait(4)\n\n-- Play the animation track\nkickAnimationTrack:Play()\n\nNon-humanoids\n\nTo play animations on rigs that do not contain a Class.Humanoid, you must create an Class.AnimationController with a child Class.Animator. For example, the following Class.Script (assumed to be a direct child of the rig) loads a \"kick\" animation and plays it.\n\nlua title=\"Script - Play Custom Animation on Character Rig\"\nlocal rig = script.Parent\n\n-- Create a new \"Animation\" instance and assign an animation asset ID\nlocal kickAnimation = Instance.new(\"Animation\")\nkickAnimation.AnimationId = \"rbxassetid://2515090838\"\n\n-- Create a new \"AnimationController\" and \"Animator\"\nlocal animationController = Instance.new(\"AnimationController\")\nanimationController.Parent = rig\n\nlocal animator = Instance.new(\"Animator\")\nanimator.Parent = animationController\n\n-- Load the animation onto the animator\nlocal kickAnimationTrack = animator:LoadAnimation(kickAnimation)\n\n-- If a named event was defined for the animation, connect it to \"GetMarkerReachedSignal()\"\nkickAnimationTrack:GetMarkerReachedSignal(\"KickEnd\"):Connect(function(paramString)\n\tprint(paramString)\nend)\n\ntask.wait(4)\n\n-- Play the animation track\nkickAnimationTrack:Play()\n\nReplace default animations\n\nBy default, Roblox player characters include common animations like running,\nclimbing, swimming, and jumping. You can replace these default animations with animations from the catalog or with your own custom animations.\n\n1. Obtain the asset ID of the new animation as follows:\n\n   - For a custom animation built with the Animation Editor, follow the export instructions.\n   - Copy an appropriate ID from the catalog animation reference below. For example, to replace the default run animation with the Ninja Run variant, use 656118852.\n\n2. In the Explorer window, add a new Class.Script to ServerScriptService.\n\n   1. Hover over ServerScriptService and click the &CirclePlus; button.\n   2. From the contextual menu, insert a Script.\n\n3. In the new script, paste the following code:\n\n   lua title=\"Script - Replace Default Character Animations\"\n   local Players = game:GetService(\"Players\")\n\n   local function onCharacterAdded(character)\n   \t-- Get animator on humanoid\n   \tlocal humanoid = character:WaitForChild(\"Humanoid\")\n   \tlocal animator = humanoid:WaitForChild(\"Animator\")\n\n   \t-- Stop all animation tracks\n   \tfor , playingTrack in animator:GetPlayingAnimationTracks() do\n   \t\tplayingTrack:Stop(0)\n   \tend\n\n   \tlocal animateScript = character:WaitForChild(\"Animate\")\n   \t--animateScript.run.RunAnim.AnimationId = \"rbxassetid://\"\n   \t--animateScript.walk.WalkAnim.AnimationId = \"rbxassetid://\"\n   \t--animateScript.jump.JumpAnim.AnimationId = \"rbxassetid://\"\n   \t--animateScript.idle.Animation1.AnimationId = \"rbxassetid://\"\n   \t--animateScript.idle.Animation2.AnimationId = \"rbxassetid://\"\n   \t--animateScript.fall.FallAnim.AnimationId = \"rbxassetid://\"\n   \t--animateScript.swim.Swim.AnimationId = \"rbxassetid://\"\n   \t--animateScript.swimidle.SwimIdle.AnimationId = \"rbxassetid://\"\n   \t--animateScript.climb.ClimbAnim.AnimationId = \"rbxassetid://\"\n   end\n\n   local function onPlayerAdded(player)\n   \tplayer.CharacterAppearanceLoaded:Connect(onCharacterAdded)\n   end\n\n   Players.PlayerAdded:Connect(onPlayerAdded)\n\n\n4. For each line that references a default character animation, uncomment it and paste the replacement ID after rbxassetid://. For example, to change the default run animation to the Ninja Run variant:\n\n   lua title=\"Script - Replace Default Character Animations\" highlight=\"14\"\n   local Players = game:GetService(\"Players\")\n\n   local function onCharacterAdded(character)\n   \t-- Get animator on humanoid\n   \tlocal humanoid = character:WaitForChild(\"Humanoid\")\n   \tlocal animator = humanoid:WaitForChild(\"Animator\")\n\n   \t-- Stop all animation tracks\n   \tfor , playingTrack in animator:GetPlayingAnimationTracks() do\n   \t\tplayingTrack:Stop(0)\n   \tend\n\n   \tlocal animateScript = character:WaitForChild(\"Animate\")\n   \tanimateScript.run.RunAnim.AnimationId = \"rbxassetid://656118852\"\n   \t--animateScript.walk.WalkAnim.AnimationId = \"rbxassetid://\"\n   \t--animateScript.jump.JumpAnim.AnimationId = \"rbxassetid://\"\n   \t--animateScript.idle.Animation1.AnimationId = \"rbxassetid://\"\n   \t--animateScript.idle.Animation2.AnimationId = \"rbxassetid://\"\n   \t--animateScript.fall.FallAnim.AnimationId = \"rbxassetid://\"\n   \t--animateScript.swim.Swim.AnimationId = \"rbxassetid://\"\n   \t--animateScript.swimidle.SwimIdle.AnimationId = \"rbxassetid://\"\n   \t--animateScript.climb.ClimbAnim.AnimationId = \"rbxassetid://\"\n   end\n\n   local function onPlayerAdded(player)\n   \tplayer.CharacterAppearanceLoaded:Connect(onCharacterAdded)\n   end\n\n   Players.PlayerAdded:Connect(onPlayerAdded)\n\n\nSet animation weights\n\nYou can use multiple animations for the same action. For example, there\nare two idle variations in the code sample for replacing default animations.\n\nWhen multiple animations exist for a character state, the Animate script\nrandomly chooses which one to play, but you can influence the outcome by\nsetting the animation's Weight value under the following formula:\n\n- animation weight / total weight of all state animations\n\nIn the following example, idle.Animation1 will play ⅓ of the time the character is idle, while idle.Animation2 will play ⅔ of the time.\n\nlua title=\"Script - Replace Default Character Animations\" highlight=\"3,4\"\n\tanimateScript.idle.Animation1.AnimationId = \"rbxassetid://656117400\"\n\tanimateScript.idle.Animation2.AnimationId = \"rbxassetid://656118341\"\n\tanimateScript.idle.Animation1.Weight.Value = 5\n\tanimateScript.idle.Animation2.Weight.Value = 10\n\nAnimation references\n\nDefault character animations\n\nThe following table contains all of the default character animations that you can replace with catalog animations or your own custom animations. Note that Idle has two variations which you can weight to play more or less frequently.\n\n\n\n      Character action\n      Animate script reference\n\n\n      Run\n      animateScript.run.RunAnim.AnimationId\n\n\n      Walk\n      animateScript.walk.WalkAnim.AnimationId\n\n\n      Jump\n      animateScript.jump.JumpAnim.AnimationId\n\n\n      Idle\n\n        animateScript.idle.Animation1.AnimationId\n        animateScript.idle.Animation2.AnimationId\n\n\n\n      Fall\n      animateScript.fall.FallAnim.AnimationId\n\n\n      Swim\n\n        animateScript.swim.Swim.AnimationId\n\n\n\n      Swim (Idle)\n\n        animateScript.swimidle.SwimIdle.AnimationId\n\n\n\n      Climb\n      animateScript.climb.ClimbAnim.AnimationId\n\n\n\nCatalog animations\n\nWhen using avatar animation bundles to replace default animations, use the following references for the respective asset IDs. For example, if you want to apply the Ninja Jump animation, use 656117878. Note that Idle has multiple variations.\n\n\n\n\n\t  \tAstronaut\n\n\n\n\t\t\tRun891636393\n\t\t\tWalk891636393\n\t\t\tJump891627522\n\t\t\tIdle891621366, 891633237, 1047759695\n\t\t\tFall891617961\n\t\t\tSwim891639666\n\t\t\tSwim (Idle)891663592\n\t\t\tClimb891609353\n\n\n\n\n\n\t  \tBubbly\n\n\n\n\t\t\tRun910025107\n\t\t\tWalk910034870\n\t\t\tJump910016857\n\t\t\tIdle910004836, 910009958, 1018536639\n\t\t\tFall910001910\n\t\t\tSwim910028158\n\t\t\tSwim (Idle)910030921\n\t\t\tClimb909997997\n\n\n\n\n\n\t    Cartoony\n\n\n\n\t\t\tRun742638842\n\t\t\tWalk742640026\n\t\t\tJump742637942\n\t\t\tIdle742637544, 742638445, 885477856\n\t\t\tFall742637151\n\t\t\tSwim742639220\n\t\t\tSwim (Idle)742639812\n\t\t\tClimb742636889\n\n\n\n\n\n\t    Elder\n\n\n\n\t\t\tRun845386501\n\t\t\tWalk845403856\n\t\t\tJump845398858\n\t\t\tIdle845397899, 845400520, 901160519\n\t\t\tFall845396048\n\t\t\tSwim845401742\n\t\t\tSwim (Idle)845403127\n\t\t\tClimb845392038\n\n\n\n\n\n\t    Knight\n\n\n\n\t\t\tRun657564596\n\t\t\tWalk657552124\n\t\t\tJump658409194\n\t\t\tIdle657595757, 657568135, 885499184\n\t\t\tFall657600338\n\t\t\tSwim657560551\n\t\t\tSwim (Idle)657557095\n\t\t\tClimb658360781\n\n\n\n\n\n\t    Levitation\n\n\n\n\t\t\tRun616010382\n\t\t\tWalk616013216\n\t\t\tJump616008936\n\t\t\tIdle616006778, 616008087, 886862142\n\t\t\tFall616005863\n\t\t\tSwim616011509\n\t\t\tSwim (Idle)616012453\n\t\t\tClimb616003713\n\n\n\n\n\n\t    Mage\n\n\n\n\t\t\tRun707861613\n\t\t\tWalk707897309\n\t\t\tJump707853694\n\t\t\tIdle707742142, 707855907, 885508740\n\t\t\tFall707829716\n\t\t\tSwim707876443\n\t\t\tSwim (Idle)707894699\n\t\t\tClimb707826056\n\n\n\n\n\n\t    Ninja\n\n\n\n\t\t\tRun656118852\n\t\t\tWalk656121766\n\t\t\tJump656117878\n\t\t\tIdle656117400, 656118341, 886742569\n\t\t\tFall656115606\n\t\t\tSwim656119721\n\t\t\tSwim (Idle)656121397\n\t\t\tClimb656114359\n\n\n\n\n\n\t    Pirate\n\n\n\n\t\t\tRun750783738\n\t\t\tWalk750785693\n\t\t\tJump750782230\n\t\t\tIdle750781874, 750782770, 885515365\n\t\t\tFall750780242\n\t\t\tSwim750784579\n\t\t\tSwim (Idle)750785176\n\t\t\tClimb750779899\n\n\n\n\n\n\t    Robot\n\n\n\n\t\t\tRun616091570\n\t\t\tWalk616095330\n\t\t\tJump616090535\n\t\t\tIdle616088211, 616089559, 885531463\n\t\t\tFall616087089\n\t\t\tSwim616092998\n\t\t\tSwim (Idle)616094091\n\t\t\tClimb616086039\n\n\n\n\n\n        Rthro\n\n\n\n\t\t\tRun2510198475\n\t\t\tWalk2510202577\n\t\t\tJump2510197830\n\t\t\tIdle2510197257, 2510196951, 3711062489\n\t\t\tFall2510195892\n\t\t\tSwim2510199791\n\t\t\tSwim (Idle)2510201162\n\t\t\tClimb2510192778\n\n\n\n\n\n        Stylish\n\n\n\n\t\t\tRun616140816\n\t\t\tWalk616146177\n\t\t\tJump616139451\n\t\t\tIdle616136790, 616138447, 886888594\n\t\t\tFall616134815\n\t\t\tSwim616143378\n\t\t\tSwim (Idle)616144772\n\t\t\tClimb616133594\n\n\n\n\n\n        Superhero\n\n\n\n\t\t\tRun616117076\n\t\t\tWalk616122287\n\t\t\tJump616115533\n\t\t\tIdle616111295, 616113536, 885535855\n\t\t\tFall616108001\n\t\t\tSwim616119360\n\t\t\tSwim (Idle)616120861\n\t\t\tClimb616104706\n\n\n\n\n\n        Toy\n\n\n\n\t\t\tRun782842708\n\t\t\tWalk782843345\n\t\t\tJump782847020\n\t\t\tIdle782841498, 782845736, 980952228\n\t\t\tFall782846423\n\t\t\tSwim782844582\n\t\t\tSwim (Idle)782845186\n\t\t\tClimb782843869\n\n\n\n\n\n        Vampire\n\n\n\n\t\t\tRun1083462077\n\t\t\tWalk1083473930\n\t\t\tJump1083455352\n\t\t\tIdle1083445855, 1083450166, 1088037547\n\t\t\tFall1083443587\n\t\t\tSwim1083464683\n\t\t\tSwim (Idle)1083467779\n\t\t\tClimb1083439238\n\n\n\n\n\n        Werewolf\n\n\n\n\t\t\tRun1083216690\n\t\t\tWalk1083178339\n\t\t\tJump1083218792\n\t\t\tIdle1083195517, 1083214717, 1099492820\n\t\t\tFall1083189019\n\t\t\tSwim1083222527\n\t\t\tSwim (Idle)1083225406\n\t\t\tClimb1083182000\n\n\n\n\n\n        Zombie\n\n\n\n\t\t\tRun616163682\n\t\t\tWalk616168032\n\t\t\tJump616161997\n\t\t\tIdle616158929, 616160636, 885545458\n\t\t\tFall616157476\n\t\t\tSwim616165109\n\t\t\tSwim (Idle)616166655\n\t\t\tClimb616156119",
    "source": "using.md"
}