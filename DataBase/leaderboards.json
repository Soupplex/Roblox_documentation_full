{
    "title": "In-experience leaderboards",
    "description": "In-experience Leaderboards let you display user information to all users in the experience, such as top scores.",
    "content": "Roblox has a built-in leaderboard system that lets you display user information like scores, currency, or the fastest time in a race.\n\nSet up the leaderboard\n\nTo set up the leaderboard and add players when they enter the experience:\n\n1. Create a new Class.Script within Class.ServerScriptService and name it Leaderboard.\n\n\n\n2. In the script, connect a function to the Class.Players.PlayerAdded|PlayerAdded event.\n\n   lua\n   local Players = game:GetService(\"Players\")\n\n   local function leaderboardSetup(player)\n\n   end\n\n   Players.PlayerAdded:Connect(leaderboardSetup)\n\n\n3. Inside the connected function, create a new Class.Folder instance, name it leaderstats, and parent it to the player.\n\n   lua\n   local Players = game:GetService(\"Players\")\n\n   local function leaderboardSetup(player)\n   \tlocal leaderstats = Instance.new(\"Folder\")\n   \tleaderstats.Name = \"leaderstats\"\n   \tleaderstats.Parent = player\n   end\n\n   Players.PlayerAdded:Connect(leaderboardSetup)\n\n\n\n   It's essential that the folder is named leaderstats with all lowercase letters. Roblox doesn't add the player to the leaderboard if you name it any other way.\n\n\nAdd stats\n\nLeaderboards use value type objects to store and display player stats. This script will show a player's gold using an Class.IntValue, a placeholder for an integer.\n\nIn the leaderboardSetup() function, add lines 8 through 11:\n\nlua\nlocal Players = game:GetService(\"Players\")\n\nlocal function leaderboardSetup(player)\n\tlocal leaderstats = Instance.new(\"Folder\")\n\tleaderstats.Name = \"leaderstats\"\n\tleaderstats.Parent = player\n\n\tlocal gold = Instance.new(\"IntValue\")\n\tgold.Name = \"Gold\"\n\tgold.Value = 0\n\tgold.Parent = leaderstats\nend\n\nPlayers.PlayerAdded:Connect(leaderboardSetup)\n\nThese lines accomplish the following:\n\n1. An Class.IntValue instance is created.\n\n2. The instance's Class.Instance.Name|Name is set to \"Gold\". This is exactly how the stat will appear on the leaderboard.\n\n\n\n3. The stat's initial Class.IntValue.Value|Value is set to 0. This can be set to any value you wish, including a value stored in a data store if you're implementing persistent leaderboards.\n\n\n   Note that the value of objects such as Class.IntValue, Class.NumberValue, and Class.StringValue must be set through their Value property, as in gold.Value on line 10.\n\n\n4. The instance is parented to the leaderstats folder which adds it to the leaderboard. When a player enters the experience, their name appears on the board.\n\n\n\nUpdate stats\n\nTo update a player's leaderboard stat, change the Value property of that stat within their leaderstats folder. For example, you can attach the following Class.Script to any pickup object to increase the Gold stat of the player collects it.\n\nlua\nlocal Players = game:GetService(\"Players\")\n\nlocal goldChunk = script.Parent\n\nlocal function onPartTouch(otherPart)\n\tlocal partParent = otherPart.Parent\n\tlocal player = Players:GetPlayerFromCharacter(partParent)\n\tlocal leaderstats = player and player:FindFirstChild(\"leaderstats\")\n\tlocal goldStat = leaderstats and leaderstats:FindFirstChild(\"Gold\")\n\n\tif goldStat then\n\t\t-- Destroy the pickup\n\t\tgoldChunk:Destroy()\n\n\t\t-- Update the player's leaderboard stat\n\t\tgoldStat.Value += 10\n\tend\nend\n\ngoldChunk.Touched:Connect(onPartTouch)\n\nOrder stats\n\nThere are three ways to control the order of stats in a leaderboard:\n\n- Add the stats in the order that you want them to appear.\n- Add a child Class.BoolValue named IsPrimary to the stat and set its value to true to place the stat first in the leaderboard.\n- Add a child Class.NumberValue named Priority to the stat and set its value to an integer. Higher priority values appear earlier in the leaderboard. Stats without a priority have a default priority of 0.\n\nThis code sample shows how to add an IsPrimary value to a stat:\n\nlua\nlocal Players = game:GetService(\"Players\")\n\nlocal function leaderboardSetup(player)\n\tlocal leaderstats = Instance.new(\"Folder\")\n\tleaderstats.Name = \"leaderstats\"\n\tleaderstats.Parent = player\n\n\tlocal gold = Instance.new(\"IntValue\")\n\tgold.Name = \"Gold\"\n\tgold.Value = 0\n\tgold.Parent = leaderstats\n\n\tlocal isPrimary = Instance.new(\"BoolValue\")\n\tisPrimary.Name = \"IsPrimary\"\n\tisPrimary.Value = true\n\tisPrimary.Parent = gold\nend\n\nPlayers.PlayerAdded:Connect(leaderboardSetup)\n\nIsPrimary takes precedence over any Priority values. If multiple stats have IsPrimary values set to true, their Priority values determine the leaderboard order.\n\nHide the leaderboard\n\nTo hide the leaderboard, such as on a menu screen or during a cutscene, place a Class.LocalScript within Class.StarterGui or Class.StarterPlayerScripts containing a call to Class.StarterGui:SetCoreGuiEnabled()|StarterGui.\n\nlua\nlocal StarterGui = game:GetService(\"StarterGui\")\n\nStarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.PlayerList, false)",
    "source": "leaderboards.md"
}