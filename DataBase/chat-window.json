{
    "title": "chat-window",
    "description": "",
    "content": "{\n    \"title\": \"Customize the chat window\",\n    \"description\": \"Customize the chat window and message UI of your in-experience text chat.\",\n    \"content\": \"The in-experience text chat system, powered by Class.TextChatService, allows players to easily communicate and socialize with each other in live experiences. In addition to supporting the default text chat, you can customize the front‑end user interface.\\n\\nChat window configuration\\n\\nThe overall chat window consists of:\\n\\n- Chat window\\n- Input bar\\n- Channel tabs (optional)\\n\\nThe channel tabs are disabled by default and each component can be toggled on and off in Studio or through scripting:\\n\\nIn the Explorer window, expand the Class.TextChatService branch and select Class.ChatWindowConfiguration, Class.ChatInputBarConfiguration, or Class.ChannelTabsConfiguration. Then enable or disable the component in the Properties window.\\n\\nFrom a client script within Class.StarterPlayerScripts, enable each component as desired:\\n\\nlua title=\\\"Client Script\\\"\\nlocal TextChatService = game:GetService(\\\"TextChatService\\\")\\n\\nlocal ChatWindowConfiguration = TextChatService:FindFirstChildOfClass(\\\"ChatWindowConfiguration\\\")\\nlocal ChatInputBarConfiguration = TextChatService:FindFirstChildOfClass(\\\"ChatInputBarConfiguration\\\")\\nlocal ChannelTabsConfiguration = TextChatService:FindFirstChildOfClass(\\\"ChannelTabsConfiguration\\\")\\n\\n-- Enable chat window\\nif ChatWindowConfiguration then\\n\\tChatWindowConfiguration.Enabled = true\\nend\\n-- Enable input bar\\nif ChatInputBarConfiguration then\\n\\tChatInputBarConfiguration.Enabled = true\\nend\\n-- Enable channel tabs\\nif ChannelTabsConfiguration then\\n\\tChannelTabsConfiguration.Enabled = true\\nend\\n\\nWhen Class.ChannelTabsConfiguration is enabled, each default Class.TextChannel appears in a tab as outlined in the following table. In addition, each custom Class.TextChannel creates a tab corresponding to the channel's Class.Instance.Name|Name property.\\n\\n\\n\\n\\t\\t\\tDefault channel\\n\\t\\t\\tTab name\\n\\n\\n\\n\\n\\t\\t\\tRBXGeneral\\n\\t\\t\\tGeneral\\n\\n\\n\\t\\t\\tRBXSystem\\n\\t\\t\\tGeneral (combined into a single tab with RBXGeneral)\\n\\n\\n\\t\\t\\tRBXTeam\\n\\t\\t\\tTeam\\n\\n\\n\\t\\t\\tRBXWhisper\\n\\t\\t\\tUser name of the other player\\n\\n\\n\\nWindow appearance\\n\\nAppearance of the overall chat window is customizable through Class.ChatWindowConfiguration.\\n\\n\\n\\t\\tProperty\\n\\t\\tDescription\\n\\t\\tDefault\\n\\n\\n\\n\\t\\tClass.ChatWindowConfiguration.BackgroundColor3|BackgroundColor3\\n\\t\\tDatatype.Color3 background color of the chat window.\\n\\t\\t[25, 27, 29]\\n\\n\\n\\t\\tClass.ChatWindowConfiguration.BackgroundTransparency|BackgroundTransparency\\n\\t\\tTransparency of the chat window's background.\\n\\t\\t0.3\\n\\n\\n\\t\\tClass.ChatWindowConfiguration.Enabled|Enabled\\n\\t\\tWhether to show the default chat window. Set to false to hide.\\n\\t\\ttrue\\n\\n\\n\\t\\tClass.ChatWindowConfiguration.FontFace|FontFace\\n\\t\\tDatatype.Font of chat window text.\\n\\t\\tEnum.Font.BuilderSansMedium|BuilderSansMedium\\n\\n\\n\\t\\tClass.ChatWindowConfiguration.TextColor3|TextColor3\\n\\t\\tDatatype.Color3 of chat window text.\\n\\t\\t[255, 255, 255]\\n\\n\\n\\t\\tClass.ChatWindowConfiguration.TextSize|TextSize\\n\\t\\tSize of chat window text.\\n\\t\\t14\\n\\n\\n\\t\\tClass.ChatWindowConfiguration.TextStrokeColor3|TextStrokeColor3\\n\\t\\tDatatype.Color3 of the stroke for chat window text.\\n\\t\\t[0, 0, 0]\\n\\n\\n\\t\\tClass.ChatWindowConfiguration.TextStrokeTransparency|TextStrokeTransparency\\n\\t\\tTransparency of the stroke for chat window text.\\n\\t\\t0.5\\n\\n\\n\\t\\tClass.ChatWindowConfiguration.HorizontalAlignment|HorizontalAlignment\\n\\t\\tHorizontal alignment of the chat window.\\n\\t\\tEnum.HorizontalAlignment.Left|Left\\n\\n\\n\\t\\tClass.ChatWindowConfiguration.VerticalAlignment|VerticalAlignment\\n\\t\\tVertical alignment of the chat window.\\n\\t\\tEnum.VerticalAlignment.Top|Top\\n\\n\\n\\t\\tClass.ChatWindowConfiguration.HeightScale|HeightScale\\n\\t\\tHeight scale of the chat window relative to the screen size.\\n\\t\\t1\\n\\n\\n\\t\\tClass.ChatWindowConfiguration.WidthScale|WidthScale\\n\\t\\tWidth scale of the chat window relative to the screen size.\\n\\t\\t1\\n\\n\\nInput bar appearance\\n\\nAppearance of the chat input bar is customizable through Class.ChatInputBarConfiguration.\\n\\n\\n\\t\\tProperty\\n\\t\\tDescription\\n\\t\\tDefault\\n\\n\\n\\n\\t\\tClass.ChatInputBarConfiguration.BackgroundColor3|BackgroundColor3\\n\\t\\tDatatype.Color3 background color of the chat input bar.\\n\\t\\t[25, 27, 29]\\n\\n\\n\\t\\tClass.ChatInputBarConfiguration.BackgroundTransparency|BackgroundTransparency\\n\\t\\tTransparency of the chat input bar's background.\\n\\t\\t0.2\\n\\n\\n\\t\\tClass.ChatInputBarConfiguration.FontFace|FontFace\\n\\t\\tDatatype.Font of chat input text.\\n\\t\\tEnum.Font.BuilderSansMedium|BuilderSansMedium\\n\\n\\n\\t\\tClass.ChatInputBarConfiguration.PlaceholderColor3|PlaceholderColor3\\n\\t\\tDatatype.Color3 of placeholder chat input text.\\n\\t\\t[178, 178, 178]\\n\\n\\n\\t\\tClass.ChatInputBarConfiguration.TextColor3|TextColor3\\n\\t\\tDatatype.Color3 of player-entered chat input text.\\n\\t\\t[255, 255, 255]\\n\\n\\n\\t\\tClass.ChatInputBarConfiguration.TextSize|TextSize\\n\\t\\tSize of chat input text.\\n\\t\\t14\\n\\n\\n\\t\\tClass.ChatInputBarConfiguration.TextStrokeColor3|TextStrokeColor3\\n\\t\\tDatatype.Color3 stroke color of chat input text.\\n\\t\\t[0, 0, 0]\\n\\n\\n\\t\\tClass.ChatInputBarConfiguration.TextStrokeTransparency|TextStrokeTransparency\\n\\t\\tTransparency of the stroke for chat input text.\\n\\t\\t0.5\\n\\n\\n\\t\\tClass.ChatInputBarConfiguration.AutocompleteEnabled|AutocompleteEnabled\\n\\t\\tWhether the text chat system shows autocomplete options for emojis and commands. Emojis are autocompleted by typing : followed by non-whitespace characters, while commands are autocompleted by typing /.\\n\\t\\ttrue\\n\\n\\n\\t\\tClass.ChatInputBarConfiguration.KeyboardKeyCode|KeyboardKeyCode\\n\\t\\tAdditional key players can press to trigger focusing on the default chat input bar.\\n\\t\\tEnum.KeyCode.Slash|Slash\\n\\n\\nChannel tabs appearance\\n\\nAppearance of the channel tabs is customizable through Class.ChannelTabsConfiguration.\\n\\n\\n\\t\\tProperty\\n\\t\\tDescription\\n\\t\\tDefault\\n\\n\\n\\n\\t\\tClass.ChannelTabsConfiguration.BackgroundColor3|BackgroundColor3\\n\\t\\tDatatype.Color3 background color of the channel tabs.\\n\\t\\t[25, 27, 29]\\n\\n\\n\\t\\tClass.ChannelTabsConfiguration.BackgroundTransparency|BackgroundTransparency\\n\\t\\tTransparency of the channel tabs' background.\\n\\t\\t0\\n\\n\\n\\t\\tClass.ChannelTabsConfiguration.HoverBackgroundColor3|HoverBackgroundColor3\\n\\t\\tDatatype.Color3 background color of tabs when hovering over them.\\n\\t\\t[125, 125, 125]\\n\\n\\n\\t\\tClass.ChannelTabsConfiguration.FontFace|FontFace\\n\\t\\tDatatype.Font for the text in channel tabs.\\n\\t\\tEnum.Font.BuilderSansBold|BuilderSansBold\\n\\n\\n\\t\\tClass.ChannelTabsConfiguration.TextColor3|TextColor3\\n\\t\\tDatatype.Color3 of text in an unselected tab.\\n\\t\\t[175, 175, 175]\\n\\n\\n\\t\\tClass.ChannelTabsConfiguration.SelectedTabTextColor3|SelectedTabTextColor3\\n\\t\\tDatatype.Color3 of text in a selected tab.\\n\\t\\t[255, 255, 255]\\n\\n\\n\\t\\tClass.ChannelTabsConfiguration.TextSize|TextSize\\n\\t\\tSize of the text in channel tabs.\\n\\t\\t18\\n\\n\\n\\t\\tClass.ChannelTabsConfiguration.TextStrokeColor3|TextStrokeColor3\\n\\t\\tDatatype.Color3 stroke color of the text in channel tabs.\\n\\t\\t[0, 0, 0]\\n\\n\\n\\t\\tClass.ChannelTabsConfiguration.TextStrokeTransparency|TextStrokeTransparency\\n\\t\\tTransparency of the stroke for text in channel tabs.\\n\\t\\t1\\n\\n\\nCustomize messages\\n\\nYou can customize the appearance of chat message bodies and prefixes using Class.ChatWindowMessageProperties and Class.TextChatService.OnChatWindowAdded callbacks without overriding the existing UI. The customization options let you modify the appearance of chat messages to match your experience's theme, and you can also sort or highlight messages from different user groups by coloring prefixes or adding chat tags.\\n\\nClass.ChatWindowMessageProperties and Class.TextChatService.OnChatWindowAdded|OnChatWindowAdded only affect the appearance of messages in the chat window. To customize chat bubbles, see Bubble Chat.\\n\\nColor user names\\n\\nWhen a user sends a chat message, their Class.Player.DisplayName|DisplayName displays as the prefix portion of the message. By default, each user's name is colored according to their Class.Player.TeamColor but you can change the colors of chat names using Class.ChatWindowMessageProperties|ChatWindowMessageProperties and Class.TextChatService.OnChatWindowAdded|OnChatWindowAdded. The following Class.LocalScript in Class.StarterPlayerScripts assigns a predetermined color to each user, picking randomly from a table of RGB colors.\\n\\nlua title=\\\"LocalScript - Random User Name Colors\\\"\\nlocal TextChatService = game:GetService(\\\"TextChatService\\\")\\n\\nlocal chatWindowConfiguration = TextChatService.ChatWindowConfiguration\\n\\nlocal nameColors = {\\n\\tColor3.fromRGB(255, 0, 0),\\n\\tColor3.fromRGB(0, 255, 0),\\n\\tColor3.fromRGB(0, 0, 255),\\n\\tColor3.fromRGB(255, 255, 0),\\n}\\n\\nTextChatService.OnChatWindowAdded = function(message: TextChatMessage)\\n\\tlocal properties = chatWindowConfiguration:DeriveNewMessageProperties()\\n\\n\\tlocal textSource = message.TextSource\\n\\tif textSource then\\n\\t\\tlocal index: number = (textSource.UserId % #nameColors) + 1\\n\\t\\tlocal randomColor: Color3 = nameColors[index]\\n\\n    \\tproperties.PrefixTextProperties = chatWindowConfiguration:DeriveNewMessageProperties()\\n\\t\\tproperties.PrefixTextProperties.TextColor3 = randomColor\\n\\tend\\n\\n\\treturn properties\\nend\\n\\nYou can also apply color and transparency gradients to color message prefixes using Class.UIGradient.\\n\\nlua title=\\\"Gradient User Name Colors\\\"\\nlocal TextChatService = game:GetService(\\\"TextChatService\\\")\\n\\nlocal chatWindowConfiguration = TextChatService.ChatWindowConfiguration\\n\\nlocal gradient = Instance.new(\\\"UIGradient\\\")\\ngradient.Color = ColorSequence.new{\\n\\tColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),\\n\\tColorSequenceKeypoint.new(0.5, Color3.fromRGB(255, 255, 0)),\\n\\tColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 255))\\n}\\n\\nTextChatService.OnChatWindowAdded = function(message: TextChatMessage)\\n\\tlocal properties = chatWindowConfiguration:DeriveNewMessageProperties()\\n\\n\\tlocal textSource = message.TextSource\\n\\tif textSource then\\n    \\tproperties.PrefixTextProperties = chatWindowConfiguration:DeriveNewMessageProperties()\\n\\t\\tgradient:Clone().Parent = properties.PrefixTextProperties\\n\\tend\\n\\n\\treturn properties\\nend\\n\\nRich text customization\\n\\nRich text font color tags can be used to format chat messages, helpful if you want to apply formatting to very specific parts of the message. Note that rich text does not support gradients, but the following code sample shows how you can move the user name (stored in Class.TextChatMessage.PrefixText) into the message body and then apply rich text tagging to only the name portion.\\n\\nlua title=\\\"Rich Text Customization\\\"\\nlocal TextChatService = game:GetService(\\\"TextChatService\\\")\\nlocal Players = game:GetService(\\\"Players\\\")\\n\\nlocal chatWindowConfiguration = TextChatService.ChatWindowConfiguration\\n\\nlocal gradient = Instance.new(\\\"UIGradient\\\")\\ngradient.Color = ColorSequence.new{\\n\\tColorSequenceKeypoint.new(0, Color3.fromRGB(255, 0, 0)),\\n\\tColorSequenceKeypoint.new(0.5, Color3.fromRGB(255, 255, 0)),\\n\\tColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 255))\\n}\\n\\nTextChatService.OnChatWindowAdded = function(message: TextChatMessage)\\n\\tlocal properties = chatWindowConfiguration:DeriveNewMessageProperties()\\n\\n\\tif message.TextSource then\\n\\t\\tproperties.PrefixText = \\\"[VIP]\\\"\\n\\t\\tproperties.Text = string.format(\\\"%s\\\", message.PrefixText) .. \\\" \\\" .. message.Text\\n\\n\\t\\tproperties.PrefixTextProperties = chatWindowConfiguration:DeriveNewMessageProperties()\\n\\t\\tgradient:Clone().Parent = properties.PrefixTextProperties\\n\\tend\\n\\n\\treturn properties\\nend\\n\\nMessages from non‑player sources\\n\\nWhen Class.TextChatService.CreateDefaultTextChannels is true, one of the default text channels is the RBXSystem channel. The default chat scripts automatically display system messages in this channel. You can customize the appearance of these messages using the Class.TextChannel.OnIncomingMessage callback.\\n\\nYou might want to customize or alter the system messages that are automatically emitted by the chat system. Since the default system messages are localized for users, you should reference them by Class.TextChatMessage.Metadata in your text chat callbacks if you wish to customize their appearance. For example, you could use Class.TextChatMessage.Metadata|Metadata to identify system messages, error messages, or messages from specific systems in your experience.\\n\\nSystem\\n\\nTo deliver a system message to the local player, such as \\\"speech\\\" from a public address system, call Class.TextChannel:DisplaySystemMessage()|DisplaySystemMessage() from the default RBXGeneral channel with a prefix before the player's display name.\\n\\nlua title=\\\"Client Script\\\"\\nlocal Players = game:GetService(\\\"Players\\\")\\nlocal TextChatService = game:GetService(\\\"TextChatService\\\")\\n\\nlocal player = Players.LocalPlayer\\nlocal generalChannel: TextChannel = TextChatService:WaitForChild(\\\"TextChannels\\\").RBXGeneral\\n\\nlocal PREFIX = \\\"[Guide] Welcome \\\"\\n\\n-- Send \\\"system message\\\" to player with their display name appended\\ngeneralChannel:DisplaySystemMessage(PREFIX .. player.DisplayName)\\n\\nNPC/object\\n\\nYou can also stylize non-player dialogue and add chat bubbles to make it appear like messages are coming from an NPC or object within the 3D world.\\n\\nlua title=\\\"Client Script\\\"\\nlocal TextChatService = game:GetService(\\\"TextChatService\\\")\\nlocal Workspace = game:GetService(\\\"Workspace\\\")\\n\\nlocal generalChannel: TextChannel = TextChatService:WaitForChild(\\\"TextChannels\\\").RBXGeneral\\n\\nTextChatService.OnIncomingMessage = function(textChatMessage: TextChatMessage)\\n\\tlocal properties = Instance.new(\\\"TextChatMessageProperties\\\")\\n\\n\\t-- Check for system messages that contain metadata\\n\\tif not textChatMessage.TextSource and textChatMessage.Metadata ~= \\\"\\\" then\\n\\n\\t\\t-- Add prefix to make message look like it was sent by a player\\n\\t\\tproperties.PrefixText = string.format(\\\"%s: \\\", \\\"#50C999\\\", textChatMessage.Metadata)\\n\\n\\t\\t-- Add bubble chat\\n\\t\\tTextChatService:DisplayBubble(Workspace.Statue, textChatMessage.Text)\\n\\tend\\n\\n\\treturn properties\\nend\\n\\nlocal message = \\\"Welcome! I will be your guide.\\\"\\nlocal speakerName = \\\"Ancient Knight\\\"\\ngeneralChannel:DisplaySystemMessage(message, speakerName)\",\n    \"source\": \"chat-window.md\"\n}",
    "source": "chat-window.json"
}