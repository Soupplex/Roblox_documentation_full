{
    "title": "TextChatService",
    "description": "",
    "content": "This file is automatically generated. Please don't edit it manually.\nTo submit a bug report on the content, see\nhttps://devforum.roblox.com/c/bug-reports/documentation-issues/72\n\nname: TextChatService\ntype: class\nmemorycategory: Instances\nsummary: |\n  A service handling in-experience text chat.\ndescription: |\n  A service handling in-experience text chat, including\n  Class.TextChannel|managing channels, decorating messages, filtering text,\n  Class.TextChatCommand|creating commands, and\n  developing custom chats interfaces.\n\n  To learn more, see\n  TextChatService Overview.\n\n  For further customization, TextChatService has the following singleton\n  children:\n\n  - Class.ChatWindowConfiguration\n  - Class.ChatInputBarConfiguration\n  - Class.BubbleChatConfiguration\n  - Class.ChannelTabsConfiguration\ncodesamples: []\ninherits:\n  - Instance\ndescendants: []\ntags:\n  - NotCreatable\n  - Service\ndeprecationmessage: ''\nproperties:\n  - name: TextChatService.ChatTranslationEnabled\n    summary: |\n      Determines whether a user has chat translation enabled.\n    description: |\n      Determines whether a user has chat translation enabled. If true, messages\n      the user receives will be translated into their preferred language. Use\n      Class.TextChatMessage.Translation to get the message\n      translation.\n    codesamples: []\n    type: boolean\n    tags:\n      - NotReplicated\n    deprecationmessage: ''\n    security:\n      read: None\n      write: RobloxScriptSecurity\n    threadsafety: ReadSafe\n    category: Data\n    serialization:\n      canload: false\n      cansave: false\n    capabilities:\n      - Chat\n  - name: TextChatService.ChatVersion\n    summary: |\n      Determines whether to fully enable Class.TextChatService or revert to\n      the legacy chat system.\n    description: |\n      Determines whether to fully enable Class.TextChatService or revert to\n      the legacy chat system. Setting this property to\n      Enum.ChatVersion.LegacyChatService effectively disables\n      Class.TextChatService.\n    codesamples: []\n    type: ChatVersion\n    tags: []\n    deprecationmessage: |\n      This property has been deprecated in newly created Studio experiences.\n      TextChatService is the only allowed chat system and is automatically\n      enabled.\n    security:\n      read: None\n      write: RobloxScriptSecurity\n    threadsafety: ReadSafe\n    category: Data\n    serialization:\n      canload: true\n      cansave: true\n    capabilities:\n      - Chat\n  - name: TextChatService.CreateDefaultCommands\n    summary: |\n      Determines whether Class.TextChatService should create default\n      Class.TextChatCommand|TextChatCommands.\n    description: |\n      Determines whether Class.TextChatService should create default\n      Class.TextChatCommand|TextChatCommands.\n\n      If true, the following Class.TextChatCommand|TextChatCommands are\n      created and put in a Class.Folder named TextChatCommands inside\n      Class.TextChatService:\n\n\n\n\n            Name\n            Primary Alias\n            Secondary Alias\n            Description\n            Usage Example\n\n\n\n\n            RBXClearCommand\n            clear\n            cls\n            Clears the chat log for the local user.\n            /cls\n\n\n            RBXConsoleCommand\n            console\n\n            Opens the Developer Console.\n            /console\n\n\n            RBXEmoteCommand\n            emote\n            e\n            Plays an avatar emote.\n            /e dance\n\n\n            RBXHelpCommand\n            help\n            ?\n            Shows a list of chat commands.\n            /help\n\n\n            RBXMuteCommand\n            mute\n            m\n            Mutes a user by their Class.Player.Name|Name or Class.Player.DisplayName|DisplayName in all Class.TextChannel|TextChannels.\n            /m Username\n\n\n            RBXTeamCommand\n            team\n            t\n            Enters team chat mode where messages are only visible to teammates.\n            /t\n\n\n            RBXUnmuteCommand\n            unmute\n            um\n            Unmutes a user by their Class.Player.Name|Name or Class.Player.DisplayName|DisplayName in all Class.TextChannel|TextChannels.\n            /um Username\n\n\n            RBXVersionCommand\n            version\n            v\n            Shows the chat version.\n            /version\n\n\n            RBXWhisperCommand\n            whisper\n            w\n            Enters whisper mode with another Class.Player.\n            /w DisplayName or /w @Username\n\n\n\n\n      Note that you can edit, create, and remove\n      Class.TextChatCommand|TextChatCommands even if\n      Class.TextChatService.CreateDefaultCommands|CreateDefaultCommands is\n      true. Also note that mute and unmute commands apply to all\n      Class.TextChannel|TextChannels.\n    codesamples: []\n    type: boolean\n    tags: []\n    deprecationmessage: ''\n    security:\n      read: None\n      write: PluginSecurity\n    threadsafety: ReadSafe\n    category: Data\n    serialization:\n      canload: true\n      cansave: true\n    capabilities:\n      - Chat\n  - name: TextChatService.CreateDefaultTextChannels\n    summary: |\n      Determines whether Class.TextChatService should create default\n      Class.TextChannel|TextChannels.\n    description: |\n      Determines whether Class.TextChatService should create default\n      Class.TextChannel|TextChannels. If true, a Class.Folder named\n      TextChannels is created inside Class.TextChatService at runtime to\n      contain the Class.TextChannel|TextChannels outlined in the table below.\n      Each of the default channels has the described special behavior applied to\n      messages using its internally bound Class.TextChannel.OnIncomingMessage\n      callback function, changing how messages appear when sent through the\n      channel. The callback is assigned automatically either at runtime (if the\n      Class.TextChannel exists) or when the Class.TextChannel is created.\n\n\n\n\n            Channel\n            Description\n\n\n\n\n            RBXGeneral\n            Class.TextChannel for player messages. In the chat window, messages are modified such that Class.TextChatMessage.PrefixText|PrefixText receives a rich text font color tag to give chatting players their distinctive name color. If Class.Player.Team exists, that Class.Team.TeamColor is used instead of the default name color.\n\n\n            RBXSystem\n            Class.TextChannel for system messages. In the chat window, messages are modified such that Class.TextChatMessage.Text is given a light grey color tag by default, or a red color tag if Class.TextChatMessage.Metadata contains the word \"Error\".\n\n\n            RBXTeam[BrickColor]\n            Class.TextChannel for team-specific player messages, created when a Class.Team.TeamColor|TeamColor is in use by any Class.Team within the Class.Teams service. Name of the created channel is RBXTeam followed by the Class.Team.TeamColor|TeamColor name. For example, RBXTeamCrimson is a Class.TextChannel created when there is an active team whose Class.Team.TeamColor|TeamColor property is the \"Crimson\" Datatype.BrickColor.In the chat window, messages are modified such that Class.TextChatMessage.PrefixText|PrefixText is colored according to the Class.Player.TeamColor|TeamColor and is prepended with [Team].Team channels create Class.TextSource|TextSources for all non‑Class.Player.Neutral|Neutral players with the matching Class.Team.TeamColor|TeamColor, allowing them to use team‑only chat. Channels are removed if there are no remaining teams with an associated Class.Team.TeamColor|TeamColor.\n\n\n            RBXWhisper:[UserId1][UserId2]\n            Class.TextChannel for whisper messages between two players, created when a player uses the /whisper command on another player. For example RBXWhisper:2276836505306092 is a Class.TextChannel for players with Class.Player.UserId|UserIds 2276836 and 505306092. Inside whisper channels are two Class.TextSource|TextSources associated with the respective Class.Player.UserId|UserIds.In the chat window, messages are colored the same as those in RBXGeneral and Class.TextChatMessage.PrefixText is modified to show whether a message was sent from or received by the local user.Whisper channels are removed when either player leaves the experience.\n\n\n\n\n      Note that the default Class.TextChannel.OnIncomingMessage callbacks can\n      be overwritten. Also note that you can edit, create, and remove\n      Class.TextChannel|TextChannels even if\n      Class.TextChatService.CreateDefaultTextChannels|CreateDefaultTextChannels\n      is true.\n\n      Messages from different TextChannels can be separated into different tabs\n      in the chat window using Class.ChannelTabsConfiguration.\n    codesamples: []\n    type: boolean\n    tags: []\n    deprecationmessage: ''\n    security:\n      read: None\n      write: PluginSecurity\n    threadsafety: ReadSafe\n    category: Data\n    serialization:\n      canload: true\n      cansave: true\n    capabilities:\n      - Chat\nmethods:\n  - name: TextChatService:CanUserChatAsync\n    summary: |\n      Determines whether a user has permission to chat in experiences.\n    description: |\n      Determines whether a user has permission to chat in experiences. Factors\n      such as parental control settings may prevent the user from sending\n      messages. Errors if the userId is not in the current server. Note that\n      this method can be used with all current player\n      Class.Player.UserId|UserIds in a Class.Script with\n      Class.Script.RunContext|RunContext of Enum.RunContext.Server or\n      Enum.RunContext.Legacy. This method can also be used in a\n      Class.LocalScript but only with the Class.Player.UserId|UserId of the\n      local player.\n    codesamples: []\n    parameters:\n      - name: userId\n        type: int64\n        default:\n        summary: ''\n    returns:\n      - type: boolean\n        summary: ''\n    tags:\n      - Yields\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Chat\n  - name: TextChatService:CanUsersChatAsync\n    summary: |\n      Determines whether or not two users would receive messages between each\n      other.\n    description: |\n      Determines whether or not two users would receive messages between each\n      other. Factors such as incompatible parental control settings or blocked\n      status may prevent the delivery of messages between users.\n      Class.TextChannel|TextChannels internally use this result to determine\n      whether to deliver messages between users. Note that this method is only\n      available for use in a Class.Script with\n      Class.Script.RunContext|RunContext of Enum.RunContext.Server or\n      Enum.RunContext.Legacy.\n    codesamples: []\n    parameters:\n      - name: userIdFrom\n        type: int64\n        default:\n        summary: |\n          The user must be in the current server, otherwise an error will occur.\n      - name: userIdTo\n        type: int64\n        default:\n        summary: |\n          The user must be in the current server, otherwise an error will occur.\n    returns:\n      - type: boolean\n        summary: ''\n    tags:\n      - Yields\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Chat\n  - name: TextChatService:CanUsersDirectChatAsync\n    summary: |\n      Determines whether a user has permission to chat directly with other users\n      in experiences based on factors such as their parental control settings.\n    description: |\n      Determines whether a user has permission to chat directly with other users\n      in experiences based on their parental control settings. To be used when:\n\n      - The line of communication is user-initiated (not developer- or\n        gameplay-initiated)\n      - Access to the communication is closed and limited\n\n      An example of a direct chat is a whisper channel between two users.\n\n      You may use this method to gate certain features in your experience\n      depending on the result.\n\n      When creating a Class.TextChannel for a direct chat, use\n      Class.TextChannel:SetDirectChatRequester to set the requesterUserId so\n      that the channel can determine whether to deliver messages between users.\n      When Class.TextChannel.DirectChatRequester is non-nil,\n      Class.TextChannel|TextChannels internally use this result to determine\n      whether to deliver messages between users.\n\n      lua\n      local whoCanDirectChat = TextChatService:CanUsersDirectChatAsync(requesterUserId, { userId1, userId2 })\n\n      if #whoCanDirectChat > 0 then\n        -- The requesterUserId can direct chat with either userId1, userId2, or both\n      else\n        -- The requesterUserId cannot direct chat with either userId1 or userId2\n      end\n\n\n      Note that this method is only available for use in a Class.Script with\n      Class.Script.RunContext|RunContext of Enum.RunContext.Server or\n      Enum.RunContext.Legacy.\n    codesamples:\n      - TextChatService-User-Chat\n    parameters:\n      - name: requesterUserId\n        type: int64\n        default:\n        summary: |\n          The user who would have initiated the direct chat request. If the\n          requesterUserId is not in the current server, this method will error.\n      - name: userIds\n        type: Array\n        default:\n        summary: |\n          A list of users who the requesterUserId would like to chat with\n          directly. Users not in the current server are ignored.\n    returns:\n      - type: Array\n        summary: |\n          A list of users who could participate in the direct chat request. If\n          none of the users can direct chat with the requesterUserId, the result\n          is an empty array.\n    tags:\n      - Yields\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Chat\n  - name: TextChatService:DisplayBubble\n    summary: |\n      Displays a chat bubble above the provided part or player character.\n    description: |\n      Displays a chat bubble above the provided part or player character, and\n      fires the Class.TextChatService.BubbleDisplayed|BubbleDisplayed event\n      with the parameters specified in this method. Can display bubbles for\n      non-player characters (NPCs) if you specify a part within the character,\n      such as its head.\n\n      Note that this method is only available for use in Class.LocalScript, or\n      in a Class.Script with Class.Script.RunContext|RunContext of\n      Enum.RunContext.Client.\n    codesamples: []\n    parameters:\n      - name: partOrCharacter\n        type: Instance\n        default:\n        summary: |\n          The part or character that the bubble to be displayed above.\n      - name: message\n        type: string\n        default:\n        summary: |\n          The text to be displayed in the chat bubble.\n    returns:\n      - type: ()\n        summary: ''\n    tags: []\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Chat\n  - name: TextChatService:GetChatGroupsAsync\n    summary: |\n      Returns chat group IDs that indicate which players can synchronously text\n      chat together.\n    description: |\n      Returns a sorted array of arrays of chat group IDs for the given players.\n      Each chat group ID is a string that represents a communication-compatible\n      group within the current universe.\n\n      If two or more players share the same chat group ID, those players are\n      able to synchronously text chat with each other based on their age-check\n      status and chat settings.\n\n      This method is server-side only and intended for real-time use cases such\n      as matchmaking and teleporting. Chat group IDs are unique to the current\n      universe, may change over time, and should not be stored once the user has\n      left the experience. While you can hold onto the data returned for the\n      purposes of gameplay while the user is in the experience, this data should\n      not be stored after they've left.\n\n      To use this method, you must enable Chat & Voice Groups APIs in\n      Experience Settings ⟩ Communication in Roblox Studio and agree to\n      the Roblox Terms of Use.\n\n      lua\n      local TextChatService = game:GetService(\"TextChatService\")\n      local Players = game:GetService(\"Players\")\n      local players = Players:GetPlayers()\n\n      local success, chatGroups = pcall(function()\n        return TextChatService:GetChatGroupsAsync(players)\n      end)\n\n      if not success then\n        warn(\"Failed to retrieve chat groups\")\n        return\n      end\n\n      for , group in ipairs(chatGroups) do\n        -- Each group contains chat group ID strings.\n        -- Players who share a matching group ID can chat with each other.\n        for , groupId in ipairs(group) do\n          print(\"Chat group ID:\", groupId)\n        end\n      end\n\n    codesamples:\n      - TextChatService-Chat-Groups-Teleport\n    parameters:\n      - name: players\n        type: Instances\n        default:\n        summary: |\n          A list of Class.Player|Players currently in the experience to\n          evaluate for text chat compatibility.\n    returns:\n      - type: Array\n        summary: |\n          A sorted array of arrays of chat group ID strings. Players who share a\n          matching chat group ID are eligible to synchronously text chat with\n          each other.\n    tags:\n      - Yields\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Chat\nevents:\n  - name: TextChatService.BubbleDisplayed\n    summary: |\n      Fires when Class.TextChatService:DisplayBubble() is called.\n    description: |\n      Fires when Class.TextChatService:DisplayBubble() is called.\n    codesamples: []\n    parameters:\n      - name: partOrCharacter\n        type: Instance\n        default:\n        summary: ''\n      - name: textChatMessage\n        type: TextChatMessage\n        default:\n        summary: ''\n    tags: []\n    deprecationmessage: ''\n    security: None\n    capabilities:\n      - Chat\n  - name: TextChatService.MessageReceived\n    summary: |\n      Fires when Class.TextChannel:DisplaySystemMessage() is invoked on the\n      client, or when the client receives a valid\n      Class.TextChannel:SendAsync() response from the server.\n    description: |\n      Like Class.TextChannel.MessageReceived, fires when\n      Class.TextChannel:DisplaySystemMessage() is invoked on the client, or\n      when the client receives a valid Class.TextChannel:SendAsync() response\n      from the server. This event is only fired on the client.\n\n      If the server's Class.TextChannel.ShouldDeliverCallback property is\n      bound and returns false, the client will not fire\n      Class.TextChatService.MessageReceived.\n\n      Use the Class.TextChatMessage parameter to get the Class.TextSource\n      and the text of the message (with Class.TextChatMessage.Text).\n\n      The Class.TextChatMessage parameter is the final result of any functions\n      bound to Class.TextChatService.OnIncomingMessage or\n      Class.TextChannel.OnIncomingMessage.\n    codesamples: []\n    parameters:\n      - name: textChatMessage\n        type: TextChatMessage\n        default:\n        summary: |\n          The received Class.TextChatMessage.\n    tags: []\n    deprecationmessage: ''\n    security: None\n    capabilities:\n      - Chat\n  - name: TextChatService.SendingMessage\n    summary: |\n      Fires when Class.TextChannel:SendAsync() is called by the sending\n      client.\n    description: |\n      Fires when Class.TextChannel:SendAsync() is called by the sending\n      client. Use this to allow placeholder messages to be shown to the user\n      while waiting for server response to Class.TextChannel:SendAsync().\n    codesamples: []\n    parameters:\n      - name: textChatMessage\n        type: TextChatMessage\n        default:\n        summary: |\n          The Class.TextChatMessage from the Class.TextChannel:SendAsync()\n          call.\n    tags: []\n    deprecationmessage: ''\n    security: None\n    capabilities:\n      - Chat\ncallbacks:\n  - name: TextChatService.OnBubbleAdded\n    summary: |\n      Called when a bubble chat is about to be displayed.\n    description: |\n      Called when a bubble chat is about to be displayed. This can only be\n      implemented on the client.\n\n      Use this to customize individual bubble chat messages. If this callback\n      returns a Class.BubbleChatMessageProperties, those properties will be\n      applied to the associated bubble, overriding\n      Class.BubbleChatConfiguration properties. If a Class.UICorner,\n      Class.UIGradient, or Class.ImageLabel is parented under\n      Class.BubbleChatMessageProperties, they will also override their\n      respective counterparts defined in Class.BubbleChatConfiguration.\n\n      If the chat message is sent by a player, message.TextSource will\n      correspond to that player, and adornee will be nil.\n\n      If the chat message is sent via Class.TextChatService:DisplayBubble,\n      adornee will be the partOrCharacter provided, and message.TextSource\n      will be nil.\n\n      When bound to the client sending a message, this callback is run twice:\n      first when the message is initially sent and received locally, then again\n      when the client receives the result of the filtered message from the\n      server.\n    codesamples: []\n    parameters:\n      - name: message\n        type: TextChatMessage\n        default:\n        summary: |\n          The incoming Class.TextChatMessage.\n      - name: adornee\n        type: Instance\n        default:\n        summary: |\n          The part or character the bubble chat message is attached to.\n    returns:\n      - type: Tuple\n        summary: |\n          If a Class.BubbleChatMessageProperties is returned, its properties\n          override the Class.BubbleChatConfiguration properties.\n    tags: []\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Chat\n    writeCapabilities: []\n  - name: TextChatService.OnChatWindowAdded\n    summary: |\n      Called when a new message is about to be displayed in the chat window.\n      This can only be implemented on the client.\n    description: |\n      Called when a new message is about to be displayed in the chat window.\n      This can only be implemented on the client.\n\n      Use this to customize individual messages that appear in the chat window.\n      If this callback returns a Class.ChatWindowMessageProperties, those\n      properties will be applied to the associated message, overriding\n      Class.ChatWindowConfiguration properties. If a Class.UIGradient is\n      parented under Class.ChatWindowMessageProperties, it will also override\n      the Class.ChatWindowConfiguration.TextColor3|TextColor3 property defined\n      in Class.ChatWindowConfiguration.\n\n      When bound to the client sending a message, this callback is run twice:\n      first when the message is initially sent and received locally, then again\n      when the client receives the result of the filtered message from the\n      server.\n    codesamples: []\n    parameters:\n      - name: message\n        type: TextChatMessage\n        default:\n        summary: |\n          The incoming Class.TextChatMessage.\n    returns:\n      - type: Tuple\n        summary: |\n          If a Class.ChatWindowMessageProperties is returned, its properties\n          override the Class.ChatWindowConfiguration properties.\n    tags: []\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Chat\n    writeCapabilities: []\n  - name: TextChatService.OnIncomingMessage\n    summary: |\n      Called when Class.TextChatService is receiving an incoming message.\n    description: |\n      Called when Class.TextChatService is receiving an incoming message. Can\n      only be implemented on the client.\n\n      Use this to decorate Class.TextChatMessage|TextChatMessages. If this\n      callback returns a Class.TextChatMessageProperties, those properties are\n      merged with the Class.TextChatMessage parameter to create a new\n      Class.TextChatMessage.\n\n      When bound to the client sending a message, this callback is run twice;\n      first when the message is initially sent and received locally, and again\n      when the client receives the result of the filtered message from the\n      server.\n\n      Note that this Class.TextChatService.OnIncomingMessage callback runs\n      before any Class.TextChannel.OnIncomingMessage callbacks.\n\n      This should be defined only once in the source code. Multiple bindings\n      will override one another in a non‑deterministic manner.\n    codesamples: []\n    parameters:\n      - name: message\n        type: TextChatMessage\n        default:\n        summary: |\n          The incoming Class.TextChatMessage.\n    returns:\n      - type: Tuple\n        summary: |\n          If a Class.TextChatMessageProperties is returned, those properties\n          are merged with the Class.TextChatMessage parameter to create a new\n          Class.TextChatMessage with those properties, otherwise, if nil is\n          returned, then Class.TextChatMessage is not changed.\n    tags: []\n    deprecationmessage: ''\n    security: None\n    threadsafety: Unsafe\n    capabilities:\n      - Chat\n    writeCapabilities: []",
    "source": "TextChatService.yaml"
}